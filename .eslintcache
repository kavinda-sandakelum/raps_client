[{"C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\index.js":"1","C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\App.js":"2","C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\signin.component.js":"3","C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\home.component.js":"4","C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\utils\\storage.js":"5","C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\content.component.js":"6","C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\navbar.component.js":"7","C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\addeteam.component.js":"8","C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\removeeteam.component.js":"9","C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\removepolice.component.js":"10","C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\addpolice.component.js":"11","C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\accidentlist.component.js":"12","C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\eventlist.component.js":"13","C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\accidentsubmission.component.js":"14","C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\eventsubmission.component.js":"15"},{"size":191,"mtime":1615881908373,"results":"16","hashOfConfig":"17"},{"size":506,"mtime":1615881908363,"results":"18","hashOfConfig":"17"},{"size":5342,"mtime":1615881908371,"results":"19","hashOfConfig":"17"},{"size":2955,"mtime":1615881908369,"results":"20","hashOfConfig":"17"},{"size":541,"mtime":1615881908375,"results":"21","hashOfConfig":"17"},{"size":1494,"mtime":1615881908367,"results":"22","hashOfConfig":"17"},{"size":3962,"mtime":1615886695100,"results":"23","hashOfConfig":"17"},{"size":3229,"mtime":1615881908366,"results":"24","hashOfConfig":"17"},{"size":2079,"mtime":1615881908370,"results":"25","hashOfConfig":"17"},{"size":1856,"mtime":1615881908370,"results":"26","hashOfConfig":"17"},{"size":3372,"mtime":1615881908367,"results":"27","hashOfConfig":"17"},{"size":2845,"mtime":1615881908365,"results":"28","hashOfConfig":"17"},{"size":2190,"mtime":1615881908368,"results":"29","hashOfConfig":"17"},{"size":12934,"mtime":1615881908365,"results":"30","hashOfConfig":"17"},{"size":7728,"mtime":1615881908368,"results":"31","hashOfConfig":"17"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},"nfoqy5",{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"34"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42","usedDeprecatedRules":"34"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"34"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"64","usedDeprecatedRules":"34"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"67"},"C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\index.js",[],["68","69"],"C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\App.js",[],"C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\signin.component.js",["70","71","72"],"import React, { Component } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport logo from \"../icon.png\";\r\n\r\nimport { getFromStorage, setInStorage } from \"../utils/storage\";\r\n\r\nexport default class Signin extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onTextboxChangeUsername = this.onTextboxChangeUsername.bind(this);\r\n    this.onTextboxChangePassword = this.onTextboxChangePassword.bind(this);\r\n    this.onSignin = this.onSignin.bind(this);\r\n\r\n    this.state = {\r\n      isLoading: true,\r\n      token: \"\",\r\n      signInError: \"\",\r\n      signInUsername: \"\",\r\n      signInPassword: \"\",\r\n      validUsername: false,\r\n      validPassword: false,\r\n      activateSubmit: false,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const token = getFromStorage(\"road_accident_prevention_system_webtoken\");\r\n\r\n    if (token) {\r\n      //verify token\r\n      try {\r\n        axios\r\n          .get(\"http://localhost:5000/police/verifysession?token=\" + token)\r\n          .then((res) => res.data)\r\n          .then((json) => {\r\n            if (json.success) {\r\n              this.setState({\r\n                token: token,\r\n                isLoading: false,\r\n              });\r\n            } else {\r\n              this.setState({\r\n                isLoading: false,\r\n              });\r\n            }\r\n          });\r\n      } catch (err) {\r\n        console.log(err);\r\n        this.setState({ isLoading: false });\r\n      }\r\n    } else {\r\n      this.setState({ isLoading: false });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      isLoading,\r\n      token,\r\n      signInError,\r\n      signInUsername,\r\n      signInPassword,\r\n      activateSubmit,\r\n    } = this.state;\r\n\r\n    if (isLoading) {\r\n      return (\r\n        <div className=\"d-flex justify-content-center \">\r\n          <div className=\"spinner-border\" role=\"status\">\r\n            <span className=\"sr-only\">Loading...</span>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (!token) {\r\n      return (\r\n        <div className=\"content\">\r\n          <nav className=\"navbar navbar-dark bg-dark\">\r\n            <span className=\"navbar-brand mb-0 h1\">\r\n              <img\r\n                src={logo}\r\n                width=\"30\"\r\n                height=\"30\"\r\n                className=\"d-inline-block align-top\"\r\n              />{\" \"}\r\n              Road Accident Prediction System\r\n            </span>\r\n          </nav>\r\n          <br />\r\n          <form className=\"col-sm-4 col-12 text-center border border-secondary p-5 \">\r\n            <div className=\"form-group\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control mb-4\"\r\n                value={signInUsername}\r\n                onChange={this.onTextboxChangeUsername}\r\n                placeholder=\"Username\"\r\n              ></input>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <input\r\n                type=\"password\"\r\n                className=\"form-control mb-4\"\r\n                value={signInPassword}\r\n                onChange={this.onTextboxChangePassword}\r\n                placeholder=\"Password\"\r\n              ></input>\r\n            </div>\r\n            <div className=\"signInError\">\r\n              <p className=\"text-danger\">{signInError}</p>\r\n            </div>\r\n          </form>\r\n          <button\r\n            className=\"btn btn-warning\r\n            btn-rounded btn-block my-4 waves-effect z-depth-0 col-sm-4 col-12\"\r\n            disabled={!activateSubmit}\r\n            onClick={this.onSignin}\r\n          >\r\n            Sign in\r\n          </button>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div className=\"content\">\r\n        <div className=\"jumbotron jumbotron-fluid\">\r\n          <div className=\"container\">\r\n            <h1 className=\"display-4\">Successfully Signed in!</h1>\r\n            <p class=\"lead\">\r\n              <a class=\"btn btn-warning btn-lg\" href=\"#\" role=\"button\">\r\n                <Link to=\"/\">Load homepage</Link>\r\n              </a>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  onTextboxChangeUsername(event) {\r\n    const valid = event.target.value.length >= 4; //length check\r\n    this.setState({\r\n      signInUsername: event.target.value,\r\n      validUsername: valid,\r\n      activateSubmit: this.state.signInPassword && valid,\r\n    });\r\n  }\r\n\r\n  onTextboxChangePassword(event) {\r\n    const valid = event.target.value.length >= 4; //length check\r\n    this.setState({\r\n      signInPassword: event.target.value,\r\n      validPassword: valid,\r\n      activateSubmit: this.state.signInUsername && valid,\r\n    });\r\n  }\r\n\r\n  onSignin() {\r\n    //post request sigin in\r\n\r\n    axios\r\n      .post(\"http://localhost:5000/police/signin\", {\r\n        username: this.state.signInUsername,\r\n        password: this.state.signInPassword,\r\n      })\r\n      .then((res) => res.data)\r\n      .then((json) => {\r\n        if (json.success) {\r\n          this.setState({\r\n            signInError: json.message,\r\n            token: json.token,\r\n            adminRights: json.adminRights,\r\n          });\r\n          setInStorage(\"road_accident_prevention_system_webtoken\", json.token);\r\n          this.props.history.push(\"/\");\r\n        } else {\r\n          this.setState({\r\n            signInError: json.message,\r\n          });\r\n        }\r\n      });\r\n  }\r\n}\r\n","C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\home.component.js",["73","74"],"import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport logo from \"../icon.png\";\r\n\r\nimport Navbar from \"./navbar.component\";\r\nimport Content from \"./content.component\";\r\n\r\nimport { getFromStorage } from \"../utils/storage\"; //implement log out\r\n\r\nexport default class Home extends Component {\r\n  constructor() {\r\n    super();\r\n    this.handleNavigation = this.handleNavigation.bind(this);\r\n    this.state = {\r\n      signedin: false,\r\n      loading: false,\r\n      data: {},\r\n      token: 0,\r\n      nav: \"accidentsubmission\",\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({ loading: true });\r\n    const token = getFromStorage(\"road_accident_prevention_system_webtoken\");\r\n    console.log(\"token:\" + token);\r\n    axios\r\n      .get(\"http://localhost:5000/police/verifysession/\", {\r\n        params: { token: token },\r\n      })\r\n      .then((response) => response.data)\r\n      .then((data) => {\r\n        console.log(data);\r\n        this.setState({\r\n          signedin: true,\r\n          loading: false,\r\n          data: data,\r\n          token: token,\r\n        });\r\n      });\r\n  }\r\n\r\n  handleNavigation(str) {\r\n    this.setState({ nav: str });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.loading) {\r\n      return (\r\n        <div className=\"d-flex justify-content-center \">\r\n          <div className=\"spinner-border\" role=\"status\">\r\n            <span className=\"sr-only\">Loading...</span>\r\n          </div>\r\n        </div>\r\n      );\r\n    } else {\r\n      //not logged in\r\n      if (!this.state.data.username) {\r\n        return (\r\n          <div className=\"content\">\r\n            <nav className=\"navbar navbar-dark bg-dark\">\r\n              <span className=\"navbar-brand mb-0 h1\">\r\n                <img\r\n                  src={logo}\r\n                  width=\"30\"\r\n                  height=\"30\"\r\n                  className=\"d-inline-block align-top\"\r\n                />&nbsp;\r\n                Road Accident Prediction System\r\n              </span>\r\n            </nav>\r\n\r\n\r\n            <div className=\"jumbotron jumbotron-fluid\">\r\n              <div className=\"container\">\r\n                <h1 className=\"display-4\">Sign in to continue</h1>\r\n                <p class=\"lead\">\r\n                  <a class=\"btn btn-warning btn-lg\" href=\"\" role=\"button\">\r\n                    <Link to=\"/signin\">Sign in</Link>\r\n                  </a>\r\n                </p>\r\n\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n      } else {\r\n        return (\r\n          <div>\r\n            <Navbar\r\n              adminRights={this.state.data.adminRights}\r\n              token={this.state.token}\r\n              navState={this.state.nav}\r\n              handleNavigation={this.handleNavigation}\r\n            />\r\n            <div className=\"content\">\r\n              <Content nav={this.state.nav} token={this.state.token} />\r\n            </div>\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n  }\r\n}\r\n","C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\utils\\storage.js",[],"C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\content.component.js",[],"C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\navbar.component.js",["75","76","77","78","79","80","81","82","83","84"],"import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Redirect } from 'react-router';\r\nimport axios from 'axios';\r\nimport logo from \"../icon.png\";\r\n\r\nexport default class Navbar extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.LogOut = this.LogOut.bind(this);\r\n  }\r\n\r\n  LogOut(t) {\r\n    console.log(\"logged out\");\r\n    //window.location.reload(true);\r\n\r\n    axios.get(\"http://localhost:5000/police/logout/\",{params:{token:t}})\r\n        .then(response => response.data)\r\n        .then(data => {\r\n            console.log(data);\r\n\r\n            //refresh page\r\n\r\n            if (window.location.href.substr(-2) !== '?r') {\r\n                window.location = window.location.href + '?r';\r\n            }\r\n\r\n            })\r\n\r\n  }\r\n\r\n  \r\n  render() {\r\n    const adminRights = this.props.adminRights;\r\n    const token = this.props.token;\r\n\r\n    return (\r\n      <nav className=\"navbar navbar-dark bg-dark navbar-expand-lg\">\r\n        <Link to=\"/\" className=\"navbar-brand\">\r\n          <img\r\n            src={logo}\r\n            width=\"30\"\r\n            height=\"30\"\r\n            className=\"d-inline-block align-top\"\r\n          />\r\n          &nbsp; Road Accident Prevention System\r\n        </Link>\r\n        <div className=\"collpase navbar-collapse\">\r\n          <ul className=\"navbar-nav mr-auto\">\r\n            <li\r\n              className=\"navbar-item\"\r\n              style={{ display: adminRights ? \"block\" : \"none\" }}\r\n            >\r\n              <a\r\n                onClick={() => this.props.handleNavigation(\"addpolice\")}\r\n                className=\"nav-link\"\r\n              >\r\n                Add User\r\n              </a>\r\n            </li>\r\n\r\n            <li\r\n              className=\"navbar-item\"\r\n              style={{ display: adminRights ? \"block\" : \"none\" }}\r\n            >\r\n              <a\r\n                onClick={() => this.props.handleNavigation(\"removepolice\")}\r\n                className=\"nav-link\"\r\n              >\r\n                Remove User\r\n              </a>\r\n            </li>\r\n\r\n            <li className=\"navbar-item\" style={{display: adminRights ? 'block' : 'none' }}>\r\n              <a onClick={()=>this.props.handleNavigation(\"addeteam\")} className=\"nav-link\">Add Emergency Team</a>\r\n            </li>\r\n\r\n            <li className=\"navbar-item\" style={{display: adminRights ? 'block' : 'none' }}>\r\n              <a onClick={()=>this.props.handleNavigation(\"removeeteam\")} className=\"nav-link\">Remove Emergency Team</a>\r\n            </li>\r\n\r\n            <li className=\"navbar-item\">\r\n              <a\r\n                onClick={() =>\r\n                  this.props.handleNavigation(\"accidentsubmission\")\r\n                }\r\n                className=\"nav-link\"\r\n              >\r\n                Accident Submission\r\n              </a>\r\n            </li>\r\n\r\n            <li className=\"navbar-item\">\r\n              <a\r\n                onClick={() => this.props.handleNavigation(\"accidentlist\")}\r\n                className=\"nav-link\"\r\n              >\r\n                Accident List\r\n              </a>\r\n            </li>\r\n\r\n            <li className=\"navbar-item\">\r\n              <a\r\n                onClick={() => this.props.handleNavigation(\"eventsubmission\")}\r\n                className=\"nav-link\"\r\n              >\r\n                Event Submission\r\n              </a>\r\n            </li>\r\n\r\n            <li className=\"navbar-item\">\r\n              <a\r\n                onClick={() => this.props.handleNavigation(\"eventlist\")}\r\n                className=\"nav-link\"\r\n              >\r\n                Event List\r\n              </a>\r\n            </li>\r\n          </ul>\r\n          <ul className=\"navbar-nav navbar-right\">\r\n            <button\r\n              onClick={this.LogOut.bind(this, token)}\r\n              className=\"navbar-item nav-link btn btn-secondary\"\r\n            >\r\n              Log out\r\n            </button>\r\n          </ul>\r\n        </div>\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n","C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\addeteam.component.js",[],"C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\removeeteam.component.js",[],"C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\removepolice.component.js",[],"C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\addpolice.component.js",[],"C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\accidentlist.component.js",[],"C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\eventlist.component.js",[],"C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\accidentsubmission.component.js",["85"],"import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport DatePicker from 'react-datepicker';\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\nexport default class AccidentSubmission extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n\r\n    this.onChangeAccidentDate = this.onChangeAccidentDate.bind(this);\r\n    this.onChangeAccidentTime = this.onChangeAccidentTime.bind(this);\r\n\r\n    this.onChangeDriverAge = this.onChangeDriverAge.bind(this);\r\n    this.onChangeDriverGender = this.onChangeDriverGender.bind(this);\r\n\r\n    this.onChangeWeather = this.onChangeWeather.bind(this);\r\n    this.onChangeVehicleType = this.onChangeVehicleType.bind(this);\r\n    this.onChangeVehicleYOM = this.onChangeVehicleYOM.bind(this);\r\n\r\n\r\n    this.onChangeLicenseIssueDate = this.onChangeLicenseIssueDate.bind(this);\r\n\r\n    this.onChangeDrivingSide = this.onChangeDrivingSide.bind(this);\r\n    this.onChangeSeverity = this.onChangeSeverity.bind(this);\r\n    this.onChangeReason = this.onChangeReason.bind(this);\r\n\r\n    this.onChangeKmPost = this.onChangeKmPost.bind(this);\r\n    this.onChangeSuburb = this.onChangeSuburb.bind(this);\r\n    this.onChangeOperatedSpeed = this.onChangeOperatedSpeed.bind(this);\r\n\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    const d= new Date();\r\n\r\n    this.state = {\r\n      accidentDate:d,\r\n      accidentTime:d.toString().match(/(\\d\\d:\\d\\d)/)[0],\r\n      driverAge: 0,\r\n      driverGender: 'male',\r\n      weather: 'clear',\r\n      vehicleType: 'car',\r\n      vehicleYOM: d.getFullYear(),\r\n      licenseIssueDate:d,\r\n      drivingSide: 'colombo',\r\n      severity: 'propertydamage',\r\n      reason: 'speed',\r\n      kmPost: 0,\r\n      suburb: 'kottawa',\r\n      operatedSpeed: 0,\r\n\r\n      token:this.props.token,\r\n      res:''\r\n    }\r\n  }\r\n\r\n\r\n  onChangeAccidentDate(date) {\r\n      this.setState({\r\n        accidentDate: date\r\n      })\r\n    }\r\n\r\n    onChangeLicenseIssueDate(date) {\r\n        this.setState({\r\n          licenseIssueDate: date\r\n        })\r\n      }\r\n\r\n\r\n  onChangeAccidentTime(e) {\r\n    this.setState({\r\n      accidentTime: e.target.value,\r\n      res:''\r\n    })\r\n  }\r\n\r\n  onChangeDriverAge(e) {\r\n    this.setState({\r\n      driverAge: e.target.value,\r\n      res:''\r\n    })\r\n  }\r\n  onChangeDriverGender(e) {\r\n    this.setState({\r\n      driverGender: e.target.value,\r\n      res:''\r\n    })\r\n  }\r\n\r\n  onChangeWeather(e) {\r\n    this.setState({\r\n      weather: e.target.value,\r\n      res:''\r\n    })\r\n  }\r\n\r\n  onChangeVehicleType(e) {\r\n    this.setState({\r\n      vehicleType: e.target.value,\r\n      res:''\r\n    })\r\n  }\r\n  onChangeVehicleYOM(e) {\r\n    this.setState({\r\n      vehicleYOM: e.target.value,\r\n      res:''\r\n    })\r\n  }\r\n\r\n\r\n  onChangeDrivingSide(e) {\r\n    this.setState({\r\n      drivingSide: e.target.value,\r\n      res:''\r\n    })\r\n  }\r\n  onChangeSeverity(e) {\r\n    this.setState({\r\n      severity: e.target.value,\r\n      res:''\r\n    })\r\n  }\r\n  onChangeReason(e) {\r\n    this.setState({\r\n      reason: e.target.value,\r\n      res:''\r\n    })\r\n  }\r\n  onChangeKmPost(e) {\r\n    this.setState({\r\n      kmPost: e.target.value,\r\n      res:''\r\n    })\r\n  }\r\n  onChangeSuburb(e) {\r\n    this.setState({\r\n      suburb: e.target.value,\r\n      res:''\r\n    })\r\n    switch(e.target.value){\r\n      case 'kottawa':\r\n      this.setState({kmPost:0})\r\n      break;\r\n      case 'kahathuduwa':\r\n      this.setState({kmPost:5.9})\r\n      break;\r\n      case 'gelanigama':\r\n      this.setState({kmPost:13.7})\r\n      break;\r\n      case 'dodangoda':\r\n      this.setState({kmPost:34.8})\r\n      break;\r\n      case 'welipanna':\r\n      this.setState({kmPost:46})\r\n      break;\r\n      case 'kurundugahahetekma':\r\n      this.setState({kmPost:67.6})\r\n      break;\r\n      case 'baddegama':\r\n      this.setState({kmPost:79.8})\r\n      break;\r\n      case 'pinnaduwa':\r\n      this.setState({kmPost:95.3})\r\n      break;\r\n      case 'imaduwa':\r\n      this.setState({kmPost:108})\r\n      break;\r\n      case 'kokmaduwa':\r\n      this.setState({kmPost:116.5})\r\n      break;\r\n      case 'godagama':\r\n      this.setState({kmPost:127})\r\n      break;\r\n    }\r\n  }\r\n  onChangeOperatedSpeed(e) {\r\n    this.setState({\r\n      operatedSpeed: e.target.value,\r\n      res:''\r\n    })\r\n  }\r\n\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    const datetime = new Date(this.state.accidentDate.toString().replace(/(\\d\\d:\\d\\d:\\d\\d)/,this.state.accidentTime))\r\n\r\n    const accident = {\r\n      datetime:datetime,\r\n      driverAge: this.state.driverAge,\r\n      driverGender: this.state.driverGender,\r\n      weather: this.state.weather,\r\n      vehicleType: this.state.vehicleType,\r\n      vehicleYOM: this.state.vehicleYOM,\r\n      licenseIssueDate: this.state.licenseIssueDate,\r\n      drivingSide: this.state.drivingSide,\r\n      severity: this.state.severity,\r\n      reason: this.state.reason,\r\n      kmPost: this.state.kmPost,\r\n      suburb: this.state.suburb,\r\n      operatedSpeed: this.state.operatedSpeed,\r\n      sessionToken: this.state.token\r\n    }\r\n\r\n    console.log(accident);\r\n\r\n    const d= new Date();\r\n\r\n    axios.post('http://localhost:5000/accident/submit', accident)\r\n      .then(res=>{\r\n        document.getElementById('accident-report-from').reset();\r\n        this.setState({\r\n          res: res.data.message,\r\n          accidentDate:d,\r\n          accidentTime:d.toString().match(/(\\d\\d:\\d\\d)/)[0],\r\n          driverAge: 0,\r\n          driverGender: 'male',\r\n          weather: 'clear',\r\n          vehicleType: 'car',\r\n          vehicleYOM: d.getFullYear(),\r\n          licenseIssueDay: d.getDay(),\r\n          licenseIssueMonth: d.getMonth(),\r\n          licenseIssueYear: d.getYear(),\r\n          licenseIssueDate: d,\r\n          drivingSide: 'colombo',\r\n          severity: 'propertydamage',\r\n          reason:'speed',\r\n          kmPost: 0,\r\n          suburb: 'kottawa',\r\n          operatedSpeed: 0\r\n        })\r\n      })\r\n\r\n  }\r\n\r\n\r\n  render() {\r\n      return (\r\n      <div className=\"acc\">\r\n\r\n\r\n      <form id=\"accident-report-from\" onSubmit={this.onSubmit} >\r\n        <div className=\"header\"><h3>Accident Report </h3></div>\r\n          <br/>\r\n        <div>\r\n\r\n        <div className=\"form-group row\">\r\n          <div className=\"col-sm-3\">\r\n            <label>Accident Date: </label>\r\n          </div>\r\n         <div className=\"col-sm-3\">\r\n            <div>\r\n              <DatePicker className=\"form-control\"\r\n              selected={this.state.accidentDate}\r\n              onChange={this.onChangeAccidentDate}\r\n              />\r\n            </div>\r\n          </div>\r\n          </div>\r\n\r\n          <div className=\"form-group row\">\r\n            <div className=\"col-sm-3\"><label>Accident Time: </label>\r\n            </div>\r\n            <div className=\"col-sm-3\">\r\n              <input  type=\"time\"\r\n              className=\"form-control\"\r\n              value={this.state.accidentTime}\r\n              onChange={this.onChangeAccidentTime}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"form-group row\">\r\n         <div className=\"col-sm-3\"><label>Driver Age </label></div>\r\n          <div className=\"col-sm-3\"><input  type=\"number\"\r\n              className=\"form-control\"\r\n              value={this.state.driverAge}\r\n              onChange={this.onChangeDriverAge}\r\n              min='0'\r\n              max='99'\r\n              /></div>\r\n          </div>\r\n          <div className=\"form-group row\">\r\n          <div className=\"col-sm-3\"><label>Driver Gender </label></div>\r\n          <div className=\"col-sm-3\">\r\n              <select className=\"form-control\" onChange={this.onChangeDriverGender}>\r\n                  <option value=\"male\">Male</option>\r\n                  <option value=\"female\">Female</option>\r\n              </select>\r\n              </div>\r\n          </div>\r\n          <div className=\"form-group row\">\r\n          <div className=\"col-sm-3\"><label>Weather </label></div>\r\n          <div className=\"col-sm-3\">\r\n              <select className=\"form-control\" onChange={this.onChangeWeather}>\r\n                  <option value=\"clear\">Clear</option>\r\n                  <option value=\"rainy\">Rainy</option>\r\n              </select>\r\n              </div>\r\n          </div>\r\n          <div className=\"form-group row\">\r\n          <div className=\"col-sm-3\"><label>Vehicle Type </label></div>\r\n          <div className=\"col-sm-3\"><select className=\"form-control\" onChange={this.onChangeVehicleType}>\r\n              <option value=\"car\">Car</option>\r\n              <option value=\"dualPurpose\">Dual Purpose</option>\r\n              <option value=\"hv\">HV</option>\r\n              </select>\r\n          </div>\r\n          </div>\r\n          <div className=\"form-group row\">\r\n          <div className=\"col-sm-3\"><label>Vehicle manufacture year </label></div>\r\n          <div className=\"col-sm-3\"><input  type=\"number\"\r\n              className=\"form-control\"\r\n              value={this.state.vehicleYOM}\r\n              onChange={this.onChangeVehicleYOM}\r\n              /></div>\r\n          </div>\r\n          <div className=\"form-group row\">\r\n          <div className=\"col-sm-3\"><label>License Issue Date </label></div>\r\n          <div className=\"col-sm-3\"><DatePicker\r\n                  className=\"form-control\"\r\n                  selected={this.state.licenseIssueDate}\r\n                  onChange={this.onChangeLicenseIssueDate}\r\n          /></div>\r\n          </div>\r\n          <div className=\"form-group row\">\r\n          <div className=\"col-sm-3\"><label>Driving Side </label></div>\r\n          <div className=\"col-sm-3\"><select className=\"form-control\" onChange={this.onChangeDrivingSide}>\r\n              <option value=\"colombo\">Colombo to Matara</option>\r\n              <option value=\"matara\">Matara to Colombo</option>\r\n              </select>\r\n          </div>\r\n          </div>\r\n          <div className=\"form-group row\">\r\n          <div className=\"col-sm-3\"><label>Severity </label></div>\r\n          <div className=\"col-sm-3\"><select className=\"form-control\" onChange={this.onChangeSeverity}>\r\n              <option value=\"propertydamage\">Property Damage</option>\r\n              <option value=\"injury\">Injury</option>\r\n              <option value=\"fatal\">Fatal</option>\r\n              </select></div>\r\n          </div>\r\n          <div className=\"form-group row\">\r\n          <div className=\"col-sm-3\"><label>Reason </label></div>\r\n          <div className=\"col-sm-3\"><select className=\"form-control\" onChange={this.onChangeReason}>\r\n              <option value=\"speed\">Speeding</option>\r\n              <option value=\"sleep\">Sleep</option>\r\n              <option value=\"slipping\">Slipping</option>\r\n              <option value=\"vehicleIssue\">Vehicle issue</option>\r\n              <option value=\"tyreBlast\">Tyre blast</option>\r\n              <option value=\"tyrePatch\">Tyre patch</option>\r\n              <option value=\"animal\">Animal Crossing</option>\r\n              <option value=\"other\">Other</option>\r\n              </select></div>\r\n          </div>\r\n          <div className=\"form-group row\">\r\n          <div className=\"col-sm-3\"><label>Suburb </label></div>\r\n          <div className=\"col-sm-3\">\r\n          <select className=\"form-control\" onChange={this.onChangeSuburb}>\r\n              <option value=\"kottawa\">Kottawa</option>\r\n              <option value=\"kahathuduwa\">Kahathuduwa</option>\r\n              <option value=\"gelanigama\">Gelanigama</option>\r\n              <option value=\"dodangoda\">Dodangoda</option>\r\n              <option value=\"welipanna\">Welipanna</option>\r\n              <option value=\"kurundugahahetekma\">Kurundugahahetekma</option>\r\n              <option value=\"baddegama\">Baddegama</option>\r\n              <option value=\"pinnaduwa\">Pinnaduwa</option>\r\n              <option value=\"imaduwa\">Imaduwa</option>\r\n              <option value=\"kokmaduwa\">Kokmaduwa</option>\r\n              <option value=\"godagama\">Godagama</option>\r\n              </select></div>\r\n          </div>\r\n\r\n          <div className=\"form-group row\">\r\n          <div className=\"col-sm-3\"><label>KM Post </label></div>\r\n          <div className=\"col-sm-3\"><input  type=\"number\" step='0.1'\r\n              className=\"form-control\"\r\n              value={this.state.kmPost}\r\n              onChange={this.onChangeKmPost}\r\n              min='0'\r\n              max='127'\r\n              /></div>\r\n          </div>\r\n\r\n          <div className=\"form-group row\">\r\n          <div className=\"col-sm-3\"><label>Operated Speed (km/h) </label></div>\r\n          <div className=\"col-sm-3\"><input  type=\"number\"\r\n              className=\"form-control\"\r\n              value={this.state.operatedSpeed}\r\n              onChange={this.onChangeOperatedSpeed}\r\n              min='0'\r\n              /></div>\r\n          </div>\r\n\r\n\r\n\r\n          <div className=\"form\">\r\n            <br/>\r\n          <input type=\"submit\" value=\"Submit Report\" onSubmit={this.onSubmit} className=\"btn btn-primary\" /> {this.state.res}\r\n          <div>\r\n\r\n          </div>\r\n\r\n        </div>\r\n\r\n      </div>\r\n\r\n\r\n      </form>\r\n\r\n\r\n      </div>\r\n      )\r\n  }\r\n\r\n}\r\n","C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\eventsubmission.component.js",["86"],"import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport DatePicker from 'react-datepicker';\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\nexport default class EventSubmission extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n\r\n    this.onChangeEventDate = this.onChangeEventDate.bind(this);\r\n    this.onChangeEventTime = this.onChangeEventTime.bind(this);\r\n    this.onChangeType = this.onChangeType.bind(this);\r\n\r\n\r\n\r\n    this.onChangeDrivingSide = this.onChangeDrivingSide.bind(this);\r\n    this.onChangeSeverity = this.onChangeSeverity.bind(this);\r\n\r\n    this.onChangeKmPost = this.onChangeKmPost.bind(this);\r\n    this.onChangeSuburb = this.onChangeSuburb.bind(this);\r\n\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    const d= new Date();\r\n\r\n    this.state = {\r\n      eventDate:d,\r\n      eventTime:d.toString().match(/(\\d\\d:\\d\\d)/)[0],\r\n      type: 'fallen tree',\r\n      drivingSide: 'colombo',\r\n      severity: 'minor',\r\n      kmPost: 0,\r\n      suburb: 'kottawa',\r\n      token:this.props.token,\r\n      res:''\r\n    }\r\n  }\r\n\r\n\r\n  onChangeEventDate(date) {\r\n      this.setState({\r\n        eventDate: date\r\n      })\r\n    }\r\n\r\n\r\n\r\n\r\n  onChangeEventTime(e) {\r\n    this.setState({\r\n      eventTime: e.target.value,\r\n      res:''\r\n    })\r\n  }\r\n\r\n\r\n  onChangeType(e) {\r\n    this.setState({\r\n      type: e.target.value,\r\n      res:''\r\n    })\r\n  }\r\n\r\n\r\n\r\n  onChangeDrivingSide(e) {\r\n    this.setState({\r\n      drivingSide: e.target.value,\r\n      res:''\r\n    })\r\n  }\r\n  onChangeSeverity(e) {\r\n    this.setState({\r\n      severity: e.target.value,\r\n      res:''\r\n    })\r\n  }\r\n\r\n  onChangeKmPost(e) {\r\n    this.setState({\r\n      kmPost: e.target.value,\r\n      res:''\r\n    })\r\n  }\r\n  onChangeSuburb(e) {\r\n    this.setState({\r\n      suburb: e.target.value,\r\n      res:''\r\n    })\r\n    switch(e.target.value){\r\n      case 'kottawa':\r\n      this.setState({kmPost:0})\r\n      break;\r\n      case 'kahathuduwa':\r\n      this.setState({kmPost:5.9})\r\n      break;\r\n      case 'gelanigama':\r\n      this.setState({kmPost:13.7})\r\n      break;\r\n      case 'dodangoda':\r\n      this.setState({kmPost:34.8})\r\n      break;\r\n      case 'welipanna':\r\n      this.setState({kmPost:46})\r\n      break;\r\n      case 'kurundugahahetekma':\r\n      this.setState({kmPost:67.6})\r\n      break;\r\n      case 'baddegama':\r\n      this.setState({kmPost:79.8})\r\n      break;\r\n      case 'pinnaduwa':\r\n      this.setState({kmPost:95.3})\r\n      break;\r\n      case 'imaduwa':\r\n      this.setState({kmPost:108})\r\n      break;\r\n      case 'kokmaduwa':\r\n      this.setState({kmPost:116.5})\r\n      break;\r\n      case 'godagama':\r\n      this.setState({kmPost:127})\r\n      break;\r\n    }\r\n  }\r\n\r\n\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    const datetime = new Date(this.state.eventDate.toString().replace(/(\\d\\d:\\d\\d:\\d\\d)/,this.state.eventTime))\r\n\r\n    const event = {\r\n      datetime:datetime,\r\n      type: this.state.type,\r\n      drivingSide: this.state.drivingSide,\r\n      severity: this.state.severity,\r\n      kmPost: this.state.kmPost,\r\n      suburb: this.state.suburb,\r\n      sessionToken: this.state.token,\r\n    }\r\n\r\n    console.log(event);\r\n\r\n    const d= new Date();\r\n\r\n    axios.post('http://localhost:5000/event/submit', event)\r\n      .then(res=>{\r\n        document.getElementById('event-report-from').reset();\r\n        this.setState({\r\n          res: res.data.message,\r\n          eventDate:d,\r\n          eventTime:d.toString().match(/(\\d\\d:\\d\\d)/)[0],\r\n          type: 'fallen tree',\r\n          drivingSide: 'colombo',\r\n          severity: 'minor',\r\n          kmPost: 0,\r\n          suburb: 'kottawa'\r\n        })\r\n      })\r\n\r\n  }\r\n\r\n\r\n  render() {\r\n      return (\r\n      <div className=\"acc\">\r\n\r\n\r\n      <form id=\"event-report-from\" onSubmit={this.onSubmit} >\r\n        <div className=\"header\"><h3>Event Report </h3></div>\r\n          <br/>\r\n        <div>\r\n\r\n        <div className=\"form-group row\">\r\n          <div className=\"col-sm-3\">\r\n            <label>Event Date: </label>\r\n          </div>\r\n         <div className=\"col-sm-3\">\r\n            <div>\r\n              <DatePicker className=\"form-control\"\r\n              selected={this.state.eventDate}\r\n              onChange={this.onChangeEventDate}\r\n              />\r\n            </div>\r\n          </div>\r\n          </div>\r\n\r\n          <div className=\"form-group row\">\r\n            <div className=\"col-sm-3\"><label>Event Time: </label>\r\n            </div>\r\n            <div className=\"col-sm-3\">\r\n              <input  type=\"time\"\r\n              className=\"form-control\"\r\n              value={this.state.eventTime}\r\n              onChange={this.onChangeEventTime}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n\r\n          <div className=\"form-group row\">\r\n          <div className=\"col-sm-3\"><label>Type </label></div>\r\n          <div className=\"col-sm-3\">\r\n              <select className=\"form-control\" onChange={this.onChangeType}>\r\n                  <option value=\"fallen tree\">Fallen Tree</option>\r\n                  <option value=\"landslide\">Landslide</option>\r\n                  <option value=\"flooding\">Flooding</option>\r\n                  <option value=\"mist\">Mist</option>\r\n              </select>\r\n              </div>\r\n          </div>\r\n\r\n          <div className=\"form-group row\">\r\n          <div className=\"col-sm-3\"><label>Side </label></div>\r\n          <div className=\"col-sm-3\"><select className=\"form-control\" onChange={this.onChangeDrivingSide}>\r\n              <option value=\"colombo\">Colombo to Matara</option>\r\n              <option value=\"matara\">Matara to Colombo</option>\r\n              </select>\r\n          </div>\r\n          </div>\r\n          <div className=\"form-group row\">\r\n          <div className=\"col-sm-3\"><label>Severity </label></div>\r\n          <div className=\"col-sm-3\"><select className=\"form-control\" onChange={this.onChangeSeverity}>\r\n              <option value=\"minor\">Minor</option>\r\n              <option value=\"intermediate \">Intermediate</option>\r\n              <option value=\"major\">Major</option>\r\n              </select></div>\r\n          </div>\r\n          <div className=\"form-group row\">\r\n          <div className=\"col-sm-3\"><label>Suburb </label></div>\r\n          <div className=\"col-sm-3\">\r\n          <select className=\"form-control\" onChange={this.onChangeSuburb}>\r\n              <option value=\"kottawa\">Kottawa</option>\r\n              <option value=\"kahathuduwa\">Kahathuduwa</option>\r\n              <option value=\"gelanigama\">Gelanigama</option>\r\n              <option value=\"dodangoda\">Dodangoda</option>\r\n              <option value=\"welipanna\">Welipanna</option>\r\n              <option value=\"kurundugahahetekma\">Kurundugahahetekma</option>\r\n              <option value=\"baddegama\">Baddegama</option>\r\n              <option value=\"pinnaduwa\">Pinnaduwa</option>\r\n              <option value=\"imaduwa\">Imaduwa</option>\r\n              <option value=\"kokmaduwa\">Kokmaduwa</option>\r\n              <option value=\"godagama\">Godagama</option>\r\n              </select></div>\r\n          </div>\r\n\r\n          <div className=\"form-group row\">\r\n          <div className=\"col-sm-3\"><label>KM Post </label></div>\r\n          <div className=\"col-sm-3\"><input  type=\"number\" step='0.1'\r\n              className=\"form-control\"\r\n              value={this.state.kmPost}\r\n              onChange={this.onChangeKmPost}\r\n              min='0'\r\n              max='127'\r\n              /></div>\r\n          </div>\r\n\r\n\r\n\r\n          <div className=\"form\">\r\n            <br/>\r\n          <input type=\"submit\" value=\"Submit Report\" onSubmit={this.onSubmit} className=\"btn btn-primary\" /> {this.state.res}\r\n          <div>\r\n\r\n          </div>\r\n\r\n        </div>\r\n\r\n      </div>\r\n\r\n\r\n      </form>\r\n\r\n\r\n      </div>\r\n      )\r\n  }\r\n\r\n}\r\n",{"ruleId":"87","replacedBy":"88"},{"ruleId":"89","replacedBy":"90"},{"ruleId":"91","severity":1,"message":"92","line":2,"column":16,"nodeType":"93","messageId":"94","endLine":2,"endColumn":26},{"ruleId":"95","severity":1,"message":"96","line":83,"column":15,"nodeType":"97","endLine":88,"endColumn":17},{"ruleId":"98","severity":1,"message":"99","line":134,"column":15,"nodeType":"97","endLine":134,"endColumn":72},{"ruleId":"95","severity":1,"message":"96","line":64,"column":17,"nodeType":"97","endLine":69,"endColumn":19},{"ruleId":"98","severity":1,"message":"99","line":79,"column":19,"nodeType":"97","endLine":79,"endColumn":75},{"ruleId":"91","severity":1,"message":"100","line":3,"column":10,"nodeType":"93","messageId":"94","endLine":3,"endColumn":18},{"ruleId":"95","severity":1,"message":"96","line":41,"column":11,"nodeType":"97","endLine":46,"endColumn":13},{"ruleId":"98","severity":1,"message":"101","line":55,"column":15,"nodeType":"97","endLine":58,"endColumn":16},{"ruleId":"98","severity":1,"message":"101","line":67,"column":15,"nodeType":"97","endLine":70,"endColumn":16},{"ruleId":"98","severity":1,"message":"101","line":76,"column":15,"nodeType":"97","endLine":76,"endColumn":93},{"ruleId":"98","severity":1,"message":"101","line":80,"column":15,"nodeType":"97","endLine":80,"endColumn":96},{"ruleId":"98","severity":1,"message":"101","line":84,"column":15,"nodeType":"97","endLine":89,"endColumn":16},{"ruleId":"98","severity":1,"message":"101","line":95,"column":15,"nodeType":"97","endLine":98,"endColumn":16},{"ruleId":"98","severity":1,"message":"101","line":104,"column":15,"nodeType":"97","endLine":107,"endColumn":16},{"ruleId":"98","severity":1,"message":"101","line":113,"column":15,"nodeType":"97","endLine":116,"endColumn":16},{"ruleId":"102","severity":1,"message":"103","line":141,"column":5,"nodeType":"104","messageId":"105","endLine":175,"endColumn":6},{"ruleId":"102","severity":1,"message":"103","line":91,"column":5,"nodeType":"104","messageId":"105","endLine":125,"endColumn":6},"no-native-reassign",["106"],"no-negated-in-lhs",["107"],"no-unused-vars","'useHistory' is defined but never used.","Identifier","unusedVar","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","'Redirect' is defined but never used.","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","default-case","Expected a default case.","SwitchStatement","missingDefaultCase","no-global-assign","no-unsafe-negation"]
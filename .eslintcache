[{"C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\index.js":"1","C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\App.js":"2","C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\signin.component.js":"3","C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\home.component.js":"4","C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\utils\\storage.js":"5","C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\content.component.js":"6","C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\navbar.component.js":"7","C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\addeteam.component.js":"8","C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\removeeteam.component.js":"9","C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\addpolice.component.js":"10","C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\accidentlist.component.js":"11","C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\eventlist.component.js":"12","C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\accidentsubmission.component.js":"13","C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\eventsubmission.component.js":"14","C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\validateincident.component.js":"15","C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\holiday.component.js":"16","C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\policelist.component.js":"17","C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\utils\\displayformat.js":"18","C:\\Users\\Kavinda\\Desktop\\level 2 software project\\raps_client\\src\\index.js":"19","C:\\Users\\Kavinda\\Desktop\\level 2 software project\\raps_client\\src\\App.js":"20","C:\\Users\\Kavinda\\Desktop\\level 2 software project\\raps_client\\src\\components\\signin.component.js":"21","C:\\Users\\Kavinda\\Desktop\\level 2 software project\\raps_client\\src\\components\\home.component.js":"22","C:\\Users\\Kavinda\\Desktop\\level 2 software project\\raps_client\\src\\components\\navbar.component.js":"23","C:\\Users\\Kavinda\\Desktop\\level 2 software project\\raps_client\\src\\components\\content.component.js":"24","C:\\Users\\Kavinda\\Desktop\\level 2 software project\\raps_client\\src\\utils\\storage.js":"25","C:\\Users\\Kavinda\\Desktop\\level 2 software project\\raps_client\\src\\components\\addpolice.component.js":"26","C:\\Users\\Kavinda\\Desktop\\level 2 software project\\raps_client\\src\\components\\removeeteam.component.js":"27","C:\\Users\\Kavinda\\Desktop\\level 2 software project\\raps_client\\src\\components\\addeteam.component.js":"28","C:\\Users\\Kavinda\\Desktop\\level 2 software project\\raps_client\\src\\components\\accidentsubmission.component.js":"29","C:\\Users\\Kavinda\\Desktop\\level 2 software project\\raps_client\\src\\components\\accidentlist.component.js":"30","C:\\Users\\Kavinda\\Desktop\\level 2 software project\\raps_client\\src\\components\\eventsubmission.component.js":"31","C:\\Users\\Kavinda\\Desktop\\level 2 software project\\raps_client\\src\\components\\eventlist.component.js":"32","C:\\Users\\Kavinda\\Desktop\\level 2 software project\\raps_client\\src\\components\\validateincident.component.js":"33","C:\\Users\\Kavinda\\Desktop\\level 2 software project\\raps_client\\src\\components\\holiday.component.js":"34","C:\\Users\\Kavinda\\Desktop\\level 2 software project\\raps_client\\src\\components\\policelist.component.js":"35","C:\\Users\\Kavinda\\Desktop\\level 2 software project\\raps_client\\src\\utils\\displayformat.js":"36"},{"size":191,"mtime":1615881908373,"results":"37","hashOfConfig":"38"},{"size":506,"mtime":1615881908363,"results":"39","hashOfConfig":"38"},{"size":8760,"mtime":1616352849859,"results":"40","hashOfConfig":"38"},{"size":2956,"mtime":1616349705379,"results":"41","hashOfConfig":"38"},{"size":541,"mtime":1615881908375,"results":"42","hashOfConfig":"38"},{"size":1629,"mtime":1616349705362,"results":"43","hashOfConfig":"38"},{"size":6501,"mtime":1616349705380,"results":"44","hashOfConfig":"38"},{"size":3274,"mtime":1616070882889,"results":"45","hashOfConfig":"38"},{"size":2079,"mtime":1615881908370,"results":"46","hashOfConfig":"38"},{"size":3372,"mtime":1615881908367,"results":"47","hashOfConfig":"38"},{"size":25028,"mtime":1616349705360,"results":"48","hashOfConfig":"38"},{"size":2238,"mtime":1616349705363,"results":"49","hashOfConfig":"38"},{"size":14007,"mtime":1616349705361,"results":"50","hashOfConfig":"38"},{"size":7728,"mtime":1615881908368,"results":"51","hashOfConfig":"38"},{"size":2319,"mtime":1616349705381,"results":"52","hashOfConfig":"38"},{"size":8716,"mtime":1616349705378,"results":"53","hashOfConfig":"38"},{"size":5748,"mtime":1616349705380,"results":"54","hashOfConfig":"38"},{"size":1124,"mtime":1616349705383,"results":"55","hashOfConfig":"38"},{"size":191,"mtime":1616576107618,"results":"56","hashOfConfig":"57"},{"size":506,"mtime":1616576107432,"results":"58","hashOfConfig":"57"},{"size":8775,"mtime":1616601723513,"results":"59","hashOfConfig":"57"},{"size":4070,"mtime":1616604556045,"results":"60","hashOfConfig":"57"},{"size":6501,"mtime":1616576107514,"results":"61","hashOfConfig":"57"},{"size":1629,"mtime":1616576107476,"results":"62","hashOfConfig":"57"},{"size":541,"mtime":1616576107846,"results":"63","hashOfConfig":"57"},{"size":3372,"mtime":1616576107448,"results":"64","hashOfConfig":"57"},{"size":2079,"mtime":1616576107534,"results":"65","hashOfConfig":"57"},{"size":3274,"mtime":1616576107440,"results":"66","hashOfConfig":"57"},{"size":14007,"mtime":1616576107438,"results":"67","hashOfConfig":"57"},{"size":24138,"mtime":1616577674920,"results":"68","hashOfConfig":"57"},{"size":7430,"mtime":1616577674922,"results":"69","hashOfConfig":"57"},{"size":2221,"mtime":1616577674921,"results":"70","hashOfConfig":"57"},{"size":2319,"mtime":1616576107552,"results":"71","hashOfConfig":"57"},{"size":8716,"mtime":1616576107512,"results":"72","hashOfConfig":"57"},{"size":5748,"mtime":1616576107524,"results":"73","hashOfConfig":"57"},{"size":1124,"mtime":1616576107832,"results":"74","hashOfConfig":"57"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"77"},"h9gye6",{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"77"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"77"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"88","messages":"89","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"77"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"77"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"77"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"102","messages":"103","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"104","usedDeprecatedRules":"77"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"107","messages":"108","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},"1inq5fu",{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"120","messages":"121","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"122","messages":"123","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"124","usedDeprecatedRules":"115"},{"filePath":"125","messages":"126","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"127","messages":"128","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"131","messages":"132","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"133","messages":"134","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"135","messages":"136","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"137","messages":"138","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"139","usedDeprecatedRules":"115"},{"filePath":"140","messages":"141","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"142","usedDeprecatedRules":"115"},{"filePath":"143","messages":"144","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"145","messages":"146","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"147","messages":"148","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"149","usedDeprecatedRules":"115"},{"filePath":"150","messages":"151","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"152","messages":"153","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},"C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\index.js",[],["154","155"],"C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\App.js",[],"C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\signin.component.js",["156","157"],"C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\home.component.js",[],"C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\utils\\storage.js",[],"C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\content.component.js",[],"C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\navbar.component.js",["158","159"],"C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\addeteam.component.js",[],"C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\removeeteam.component.js",[],"C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\addpolice.component.js",[],"C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\accidentlist.component.js",["160"],"C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\eventlist.component.js",[],"C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\accidentsubmission.component.js",[],"C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\eventsubmission.component.js",["161"],"import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport DatePicker from 'react-datepicker';\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\nexport default class EventSubmission extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n\r\n    this.onChangeEventDate = this.onChangeEventDate.bind(this);\r\n    this.onChangeEventTime = this.onChangeEventTime.bind(this);\r\n    this.onChangeType = this.onChangeType.bind(this);\r\n\r\n\r\n\r\n    this.onChangeDrivingSide = this.onChangeDrivingSide.bind(this);\r\n    this.onChangeSeverity = this.onChangeSeverity.bind(this);\r\n\r\n    this.onChangeKmPost = this.onChangeKmPost.bind(this);\r\n    this.onChangeSuburb = this.onChangeSuburb.bind(this);\r\n\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    const d= new Date();\r\n\r\n    this.state = {\r\n      eventDate:d,\r\n      eventTime:d.toString().match(/(\\d\\d:\\d\\d)/)[0],\r\n      type: 'fallen tree',\r\n      drivingSide: 'colombo',\r\n      severity: 'minor',\r\n      kmPost: 0,\r\n      suburb: 'kottawa',\r\n      token:this.props.token,\r\n      res:''\r\n    }\r\n  }\r\n\r\n\r\n  onChangeEventDate(date) {\r\n      this.setState({\r\n        eventDate: date\r\n      })\r\n    }\r\n\r\n\r\n\r\n\r\n  onChangeEventTime(e) {\r\n    this.setState({\r\n      eventTime: e.target.value,\r\n      res:''\r\n    })\r\n  }\r\n\r\n\r\n  onChangeType(e) {\r\n    this.setState({\r\n      type: e.target.value,\r\n      res:''\r\n    })\r\n  }\r\n\r\n\r\n\r\n  onChangeDrivingSide(e) {\r\n    this.setState({\r\n      drivingSide: e.target.value,\r\n      res:''\r\n    })\r\n  }\r\n  onChangeSeverity(e) {\r\n    this.setState({\r\n      severity: e.target.value,\r\n      res:''\r\n    })\r\n  }\r\n\r\n  onChangeKmPost(e) {\r\n    this.setState({\r\n      kmPost: e.target.value,\r\n      res:''\r\n    })\r\n  }\r\n  onChangeSuburb(e) {\r\n    this.setState({\r\n      suburb: e.target.value,\r\n      res:''\r\n    })\r\n    switch(e.target.value){\r\n      case 'kottawa':\r\n      this.setState({kmPost:0})\r\n      break;\r\n      case 'kahathuduwa':\r\n      this.setState({kmPost:5.9})\r\n      break;\r\n      case 'gelanigama':\r\n      this.setState({kmPost:13.7})\r\n      break;\r\n      case 'dodangoda':\r\n      this.setState({kmPost:34.8})\r\n      break;\r\n      case 'welipanna':\r\n      this.setState({kmPost:46})\r\n      break;\r\n      case 'kurundugahahetekma':\r\n      this.setState({kmPost:67.6})\r\n      break;\r\n      case 'baddegama':\r\n      this.setState({kmPost:79.8})\r\n      break;\r\n      case 'pinnaduwa':\r\n      this.setState({kmPost:95.3})\r\n      break;\r\n      case 'imaduwa':\r\n      this.setState({kmPost:108})\r\n      break;\r\n      case 'kokmaduwa':\r\n      this.setState({kmPost:116.5})\r\n      break;\r\n      case 'godagama':\r\n      this.setState({kmPost:127})\r\n      break;\r\n    }\r\n  }\r\n\r\n\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    const datetime = new Date(this.state.eventDate.toString().replace(/(\\d\\d:\\d\\d:\\d\\d)/,this.state.eventTime))\r\n\r\n    const event = {\r\n      datetime:datetime,\r\n      type: this.state.type,\r\n      drivingSide: this.state.drivingSide,\r\n      severity: this.state.severity,\r\n      kmPost: this.state.kmPost,\r\n      suburb: this.state.suburb,\r\n      sessionToken: this.state.token,\r\n    }\r\n\r\n    console.log(event);\r\n\r\n    const d= new Date();\r\n\r\n    axios.post('http://localhost:5000/event/submit', event)\r\n      .then(res=>{\r\n        document.getElementById('event-report-from').reset();\r\n        this.setState({\r\n          res: res.data.message,\r\n          eventDate:d,\r\n          eventTime:d.toString().match(/(\\d\\d:\\d\\d)/)[0],\r\n          type: 'fallen tree',\r\n          drivingSide: 'colombo',\r\n          severity: 'minor',\r\n          kmPost: 0,\r\n          suburb: 'kottawa'\r\n        })\r\n      })\r\n\r\n  }\r\n\r\n\r\n  render() {\r\n      return (\r\n      <div className=\"acc\">\r\n\r\n\r\n      <form id=\"event-report-from\" onSubmit={this.onSubmit} >\r\n        <div className=\"header\"><h3>Event Report </h3></div>\r\n          <br/>\r\n        <div>\r\n\r\n        <div className=\"form-group row\">\r\n          <div className=\"col-sm-3\">\r\n            <label>Event Date: </label>\r\n          </div>\r\n         <div className=\"col-sm-3\">\r\n            <div>\r\n              <DatePicker className=\"form-control\"\r\n              selected={this.state.eventDate}\r\n              onChange={this.onChangeEventDate}\r\n              />\r\n            </div>\r\n          </div>\r\n          </div>\r\n\r\n          <div className=\"form-group row\">\r\n            <div className=\"col-sm-3\"><label>Event Time: </label>\r\n            </div>\r\n            <div className=\"col-sm-3\">\r\n              <input  type=\"time\"\r\n              className=\"form-control\"\r\n              value={this.state.eventTime}\r\n              onChange={this.onChangeEventTime}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n\r\n          <div className=\"form-group row\">\r\n          <div className=\"col-sm-3\"><label>Type </label></div>\r\n          <div className=\"col-sm-3\">\r\n              <select className=\"form-control\" onChange={this.onChangeType}>\r\n                  <option value=\"fallen tree\">Fallen Tree</option>\r\n                  <option value=\"landslide\">Landslide</option>\r\n                  <option value=\"flooding\">Flooding</option>\r\n                  <option value=\"mist\">Mist</option>\r\n              </select>\r\n              </div>\r\n          </div>\r\n\r\n          <div className=\"form-group row\">\r\n          <div className=\"col-sm-3\"><label>Side </label></div>\r\n          <div className=\"col-sm-3\"><select className=\"form-control\" onChange={this.onChangeDrivingSide}>\r\n              <option value=\"colombo\">Colombo to Matara</option>\r\n              <option value=\"matara\">Matara to Colombo</option>\r\n              </select>\r\n          </div>\r\n          </div>\r\n          <div className=\"form-group row\">\r\n          <div className=\"col-sm-3\"><label>Severity </label></div>\r\n          <div className=\"col-sm-3\"><select className=\"form-control\" onChange={this.onChangeSeverity}>\r\n              <option value=\"minor\">Minor</option>\r\n              <option value=\"intermediate \">Intermediate</option>\r\n              <option value=\"major\">Major</option>\r\n              </select></div>\r\n          </div>\r\n          <div className=\"form-group row\">\r\n          <div className=\"col-sm-3\"><label>Suburb </label></div>\r\n          <div className=\"col-sm-3\">\r\n          <select className=\"form-control\" onChange={this.onChangeSuburb}>\r\n              <option value=\"kottawa\">Kottawa</option>\r\n              <option value=\"kahathuduwa\">Kahathuduwa</option>\r\n              <option value=\"gelanigama\">Gelanigama</option>\r\n              <option value=\"dodangoda\">Dodangoda</option>\r\n              <option value=\"welipanna\">Welipanna</option>\r\n              <option value=\"kurundugahahetekma\">Kurundugahahetekma</option>\r\n              <option value=\"baddegama\">Baddegama</option>\r\n              <option value=\"pinnaduwa\">Pinnaduwa</option>\r\n              <option value=\"imaduwa\">Imaduwa</option>\r\n              <option value=\"kokmaduwa\">Kokmaduwa</option>\r\n              <option value=\"godagama\">Godagama</option>\r\n              </select></div>\r\n          </div>\r\n\r\n          <div className=\"form-group row\">\r\n          <div className=\"col-sm-3\"><label>KM Post </label></div>\r\n          <div className=\"col-sm-3\"><input  type=\"number\" step='0.1'\r\n              className=\"form-control\"\r\n              value={this.state.kmPost}\r\n              onChange={this.onChangeKmPost}\r\n              min='0'\r\n              max='127'\r\n              /></div>\r\n          </div>\r\n\r\n\r\n\r\n          <div className=\"form\">\r\n            <br/>\r\n          <input type=\"submit\" value=\"Submit Report\" onSubmit={this.onSubmit} className=\"btn btn-primary\" /> {this.state.res}\r\n          <div>\r\n\r\n          </div>\r\n\r\n        </div>\r\n\r\n      </div>\r\n\r\n\r\n      </form>\r\n\r\n\r\n      </div>\r\n      )\r\n  }\r\n\r\n}\r\n","C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\validateincident.component.js",[],"C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\holiday.component.js",["162","163"],"C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\components\\policelist.component.js",[],"C:\\Users\\Kavinda\\Desktop\\Software Project\\raps_client\\src\\utils\\displayformat.js",[],"C:\\Users\\Kavinda\\Desktop\\level 2 software project\\raps_client\\src\\index.js",[],["164","165"],"C:\\Users\\Kavinda\\Desktop\\level 2 software project\\raps_client\\src\\App.js",[],"C:\\Users\\Kavinda\\Desktop\\level 2 software project\\raps_client\\src\\components\\signin.component.js",["166","167"],"C:\\Users\\Kavinda\\Desktop\\level 2 software project\\raps_client\\src\\components\\home.component.js",["168","169","170"],"C:\\Users\\Kavinda\\Desktop\\level 2 software project\\raps_client\\src\\components\\navbar.component.js",["171","172"],"import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport logo from \"../icons/icon.png\";\r\nimport { Navbar, Nav, NavItem, Dropdown, NavLink } from 'react-bootstrap';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport {faUser, faUserPlus, faPlus, faAmbulance, faCarCrash, faListAlt, faExclamationTriangle, faEnvelopeOpenText,faCalendarAlt, faSignOutAlt } from '@fortawesome/free-solid-svg-icons'\r\n\r\nexport default class Navbar2 extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.LogOut = this.LogOut.bind(this);\r\n  }\r\n\r\n  LogOut(t) {\r\n    console.log(\"logged out\");\r\n    //window.location.reload(true);\r\n\r\n    axios\r\n      .get(\"http://localhost:5000/police/logout/\", { params: { token: t } })\r\n      .then((response) => response.data)\r\n      .then((data) => {\r\n        console.log(data);\r\n\r\n        //refresh page\r\n\r\n        if (window.location.href.substr(-2) !== \"?r\") {\r\n          window.location = window.location.href + \"?r\";\r\n        }\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const adminRights = this.props.adminRights;\r\n    const token = this.props.token;\r\n\r\n    return (\r\n      <Navbar bg=\"dark\" variant=\"dark\" className=\"d-flex\" fixed=\"top\">\r\n        <Navbar.Brand>\r\n          <img src={logo} width=\"30\" height=\"30\" className=\"d-inline-block align-top\" alt=\"RAPS icon\"/>\r\n          &nbsp; <span className=\"nav_brand_label\"> Road Accident Prevention System </span>\r\n          <span className=\"nav_brand_label_short\"> RAPS </span>\r\n        </Navbar.Brand>\r\n          <Nav className=\"d-flex justify-content-center\" fill variant=\"pills\">\r\n          <Dropdown as={NavItem} style={{ display: adminRights ? \"block\" : \"none\" }}>\r\n            <Dropdown.Toggle as={NavLink}>\r\n            <FontAwesomeIcon icon={faUser} />&nbsp;\r\n              <span className=\"nav_item_label\"> Police </span>\r\n            </Dropdown.Toggle>\r\n            <Dropdown.Menu>\r\n              <Dropdown.Item>\r\n                <button onClick={() => this.props.handleNavigation(\"addpolice\")} className=\"dropdown-item\">\r\n                  <FontAwesomeIcon icon={faUserPlus} />&nbsp;\r\n                  Add User\r\n                </button>\r\n              </Dropdown.Item>\r\n              <Dropdown.Item>\r\n                <button onClick={() => this.props.handleNavigation(\"policelist\")} className=\"dropdown-item\">\r\n                  <FontAwesomeIcon icon={faListAlt} />&nbsp;\r\n                  User List\r\n                </button>\r\n              </Dropdown.Item>\r\n            </Dropdown.Menu>\r\n          </Dropdown>\r\n\r\n          <Dropdown as={NavItem} style={{ display: adminRights ? \"block\" : \"none\" }}>\r\n            <Dropdown.Toggle as={NavLink}>\r\n            <FontAwesomeIcon icon={faAmbulance} />&nbsp;\r\n              <span className=\"nav_item_label\"> Emergency Teams </span>\r\n            </Dropdown.Toggle>\r\n            <Dropdown.Menu>\r\n              <Dropdown.Item>\r\n                <button onClick={() => this.props.handleNavigation(\"addeteam\")} className=\"dropdown-item\">\r\n                  <FontAwesomeIcon icon={faUserPlus} />&nbsp;\r\n                  Add Emergency Team\r\n                </button>\r\n              </Dropdown.Item>\r\n              <Dropdown.Item>\r\n                <button onClick={() => this.props.handleNavigation(\"removeeteam\")} className=\"dropdown-item\">\r\n                  <FontAwesomeIcon icon={faListAlt} />&nbsp;\r\n                  Emergency Team List\r\n                </button>\r\n              </Dropdown.Item>\r\n            </Dropdown.Menu>\r\n          </Dropdown>\r\n\r\n          <Dropdown as={NavItem}>\r\n            <Dropdown.Toggle as={NavLink}>\r\n            <FontAwesomeIcon icon={faCarCrash} />&nbsp;\r\n              <span className=\"nav_item_label\"> Accidents </span>\r\n            </Dropdown.Toggle>\r\n            <Dropdown.Menu>\r\n              <Dropdown.Item>\r\n                <button onClick={() => this.props.handleNavigation(\"accidentsubmission\")} className=\"dropdown-item\">\r\n                  <FontAwesomeIcon icon={faPlus} />&nbsp;\r\n                  Accident Submission\r\n                </button>\r\n              </Dropdown.Item>\r\n              <Dropdown.Item>\r\n                <button onClick={() => this.props.handleNavigation(\"accidentlist\")} className=\"dropdown-item\">\r\n                  <FontAwesomeIcon icon={faListAlt} />&nbsp;\r\n                  Accident List\r\n                </button>\r\n              </Dropdown.Item>\r\n            </Dropdown.Menu>\r\n          </Dropdown>\r\n\r\n          <Dropdown as={NavItem}>\r\n            <Dropdown.Toggle as={NavLink}>\r\n            <FontAwesomeIcon icon={faExclamationTriangle} />&nbsp;\r\n              <span className=\"nav_item_label\"> Events </span>\r\n            </Dropdown.Toggle>\r\n            <Dropdown.Menu>\r\n              <Dropdown.Item>\r\n                <button onClick={() => this.props.handleNavigation(\"eventsubmission\")} className=\"dropdown-item\">\r\n                  <FontAwesomeIcon icon={faPlus} />&nbsp;\r\n                  Event Submission\r\n                </button>\r\n              </Dropdown.Item>\r\n              <Dropdown.Item>\r\n                <button onClick={() => this.props.handleNavigation(\"eventlist\")} className=\"dropdown-item\">\r\n                  <FontAwesomeIcon icon={faListAlt} />&nbsp;\r\n                  Event List\r\n                </button>\r\n              </Dropdown.Item>\r\n            </Dropdown.Menu>\r\n          </Dropdown>\r\n\r\n            <div as={NavItem} className=\"\">\r\n              <a onClick={() => this.props.handleNavigation(\"incidentlist\")} className=\"nav-link\">\r\n                <FontAwesomeIcon icon={faEnvelopeOpenText} />&nbsp;\r\n                <span className=\"nav_item_label\"> Incidents </span>\r\n              </a>\r\n            </div>\r\n\r\n            <div as={NavItem} className=\"\">\r\n              <a onClick={() => this.props.handleNavigation(\"holiday\")} className=\"nav-link\">\r\n                <FontAwesomeIcon icon={faCalendarAlt} />&nbsp;\r\n                <span className=\"nav_item_label\"> Holidays </span>\r\n              </a>\r\n            </div>\r\n\r\n          </Nav>\r\n          <Nav className=\"ml-auto\">\r\n            <div as={NavItem}>\r\n                <button\r\n                  onClick={this.LogOut.bind(this, token)}\r\n                  className=\"btn btn-outline-danger text-secondary\"\r\n                >\r\n                <FontAwesomeIcon icon={faSignOutAlt} />\r\n                <span className=\"nav_item_label_log_out\"> Log Out </span>\r\n                </button>\r\n            </div>\r\n          </Nav>\r\n      </Navbar>\r\n    );\r\n  }\r\n}\r\n","C:\\Users\\Kavinda\\Desktop\\level 2 software project\\raps_client\\src\\components\\content.component.js",[],"C:\\Users\\Kavinda\\Desktop\\level 2 software project\\raps_client\\src\\utils\\storage.js",[],"C:\\Users\\Kavinda\\Desktop\\level 2 software project\\raps_client\\src\\components\\addpolice.component.js",[],"C:\\Users\\Kavinda\\Desktop\\level 2 software project\\raps_client\\src\\components\\removeeteam.component.js",[],"C:\\Users\\Kavinda\\Desktop\\level 2 software project\\raps_client\\src\\components\\addeteam.component.js",[],"C:\\Users\\Kavinda\\Desktop\\level 2 software project\\raps_client\\src\\components\\accidentsubmission.component.js",[],"C:\\Users\\Kavinda\\Desktop\\level 2 software project\\raps_client\\src\\components\\accidentlist.component.js",["173"],"import React, { Component } from 'react';\r\nimport axios from 'axios';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport {faCarCrash, faEdit, faBan, faTrashAlt, faSave, faSyncAlt  } from '@fortawesome/free-solid-svg-icons'\r\nimport { getLocalDate, getLocalTime, getSuburbName, getKmCat } from \"../utils/displayformat\";\r\n\r\nimport DatePicker from 'react-datepicker';\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\n\r\nconst Accident = props => {\r\n  if(props.accident.id === props.edit_id){\r\n    //edit mode\r\n      return(\r\n      <tr className=\"table-secondary\">\r\n        <td>\r\n              {getLocalDate(props.edit_accidentDate)}\r\n              <input type=\"date\"\r\n              value={props.edit_accidentDate}\r\n              onChange={props.onChangeAccidentDate}/>\r\n        </td>\r\n        <td>\r\n              <input  type=\"time\"\r\n                  className=\"form-control\"\r\n                  value={props.edit_accidentTime}\r\n                  onChange={props.onChangeAccidentTime}\r\n                  />\r\n        </td>\r\n        <td>\r\n                <input\r\n              type=\"number\"\r\n              className=\"form-control\"\r\n              value={props.edit_driverAge}\r\n              onChange={props.onChangeDriverAge}\r\n              min=\"17\"\r\n              max=\"76\"\r\n              style={{width:60}}\r\n            />\r\n        </td>\r\n        <td>\r\n            <select className=\"form-control\"\r\n            onChange={props.onChangeDriverGender}>\r\n                <option value=\"male\">Male</option>\r\n                <option selected={props.edit_driverGender} value=\"female\">Female</option>\r\n            </select>\r\n        </td>\r\n        <td>\r\n            <select className=\"form-control\"\r\n            onChange={props.onChangeWeather}>\r\n                <option value=\"clear\">Clear</option>\r\n                <option selected={props.edit_weather} value=\"rainy\">Rainy</option>\r\n            </select>\r\n        </td>\r\n        <td>\r\n            <select className=\"form-control\"\r\n            onChange={props.onChangeRoadSurface}>\r\n                <option value=\"dry\">Dry</option>\r\n                <option selected={props.edit_roadSurface} value=\"wet\">Wet</option>\r\n            </select>\r\n        </td>\r\n        <td>\r\n            <select className=\"form-control\"\r\n            onChange={props.onChangeVehicleType}>\r\n                <option selected={props.edit_vehicleType===0} value=\"0\">Car</option>\r\n                <option selected={props.edit_vehicleType===1} value=\"1\">HV</option>\r\n                <option selected={props.edit_vehicleType===2} value=\"2\">DP</option>\r\n            </select>\r\n        </td>\r\n        <td>\r\n                <input\r\n              type=\"number\"\r\n              className=\"form-control\"\r\n              value={props.edit_vehicleYOM}\r\n              onChange={props.onChangeVehicleYOM}\r\n              style={{width:80}}\r\n            />\r\n        </td>\r\n        <td>\r\n              {getLocalDate(props.edit_licenseIssueDate)}\r\n              <input type=\"date\"\r\n              value={props.edit_licenseIssueDate}\r\n              onChange={props.onChangeLicenseIssueDate}/>\r\n        </td>\r\n        <td>\r\n            <select className=\"form-control\"\r\n            onChange={props.onChangeDrivingSide}>\r\n                <option value=\"colombo\">Colombo</option>\r\n                <option selected={props.edit_drivingSide} value=\"matara\">Matara</option>\r\n            </select>\r\n        </td>\r\n        <td>\r\n            <select className=\"form-control\"\r\n            style={{width:100}}\r\n            onChange={props.onChangeSeverity}>\r\n                <option selected={props.edit_severity===0} value=\"0\">Property</option>\r\n                <option selected={props.edit_severity===1} value=\"1\">Injury</option>\r\n                <option selected={props.edit_severity===2} value=\"2\">Fatality</option>\r\n            </select>\r\n        </td>\r\n        <td>\r\n            <select className=\"form-control\"\r\n            style={{width:100}}\r\n            onChange={props.onChangeReason}>\r\n                <option selected={props.edit_reason===0} value=\"0\">AnimalCrossing</option>\r\n                <option selected={props.edit_reason===1} value=\"1\">VehicleIssue</option>\r\n                <option selected={props.edit_reason===2} value=\"2\">Speed</option>\r\n                <option selected={props.edit_reason===3} value=\"3\">Tailgaiting</option>\r\n                <option selected={props.edit_reason===4} value=\"4\">Sleep</option>\r\n                <option selected={props.edit_reason===5} value=\"5\">Slipping</option>\r\n            </select>\r\n        </td>\r\n        <td>\r\n            <select className=\"form-control\"\r\n            style={{width:100}}\r\n            onChange={props.onChangeSuburb}>\r\n                <option selected={props.edit_suburb===0} value=\"0\">{getSuburbName(0)}</option>\r\n                <option selected={props.edit_suburb===1} value=\"1\">{getSuburbName(1)}</option>\r\n                <option selected={props.edit_suburb===2} value=\"2\">{getSuburbName(2)}</option>\r\n                <option selected={props.edit_suburb===3} value=\"3\">{getSuburbName(3)}</option>\r\n                <option selected={props.edit_suburb===4} value=\"4\">{getSuburbName(4)}</option>\r\n                <option selected={props.edit_suburb===5} value=\"5\">{getSuburbName(5)}</option>\r\n                <option selected={props.edit_suburb===6} value=\"6\">{getSuburbName(6)}</option>\r\n                <option selected={props.edit_suburb===7} value=\"7\">{getSuburbName(7)}</option>\r\n                <option selected={props.edit_suburb===8} value=\"8\">{getSuburbName(8)}</option>\r\n                <option selected={props.edit_suburb===9} value=\"9\">{getSuburbName(9)}</option>\r\n                <option selected={props.edit_suburb===10} value=\"10\">{getSuburbName(10)}</option>\r\n            </select>\r\n        </td>\r\n        <td>\r\n                <input\r\n              type=\"number\"\r\n              className=\"form-control\"\r\n              value={props.edit_kmPost}\r\n              onChange={props.onChangeKmPost}\r\n              style={{width:80}}\r\n              min=\"0\"\r\n              max=\"127\"\r\n              step=\".1\"\r\n            />\r\n        </td>\r\n        <td>\r\n                <input\r\n              type=\"number\"\r\n              className=\"form-control\"\r\n              value={props.edit_operatedSpeed}\r\n              onChange={props.onChangeOperatedSpeed}\r\n              style={{width:80}}\r\n              min=\"0\"\r\n            />\r\n        </td>\r\n        <td>\r\n            <select className=\"form-control\"\r\n            onChange={props.onChangeVehicleCondition}>\r\n                <option value=\"good\">Good</option>\r\n                <option selected={props.edit_vehicle_condition} value=\"bad\">Bad</option>\r\n            </select>\r\n        </td>\r\n        <td>\r\n            <select className=\"form-control\"\r\n            style={{width:100}}\r\n            onChange={props.onChangeStatus}>\r\n                <option selected={props.edit_status===0} value=\"0\">Reported</option>\r\n                <option selected={props.edit_status===1} value=\"1\">Dispatched</option>\r\n                <option selected={props.edit_status===2} value=\"2\">Handled</option>\r\n            </select>\r\n        </td>\r\n\r\n        <td className=\"text-muted\">{props.accident.day_cat===0?'Weekday':props.accident.day_cat===1?'Weekend':'PubHoliday'}</td>\r\n        <td className=\"text-muted\">{props.accident.hour_cat===0?'Free':props.accident.hour_cat===1?'Rush':'Normal'}</td>\r\n        <td className=\"text-muted\">{props.accident.month_cat?'Off-peak':'Peak'}</td>\r\n        <td className=\"text-muted\">{props.accident.vision===0?'Poor':props.accident.vision===1?'Glare':props.accident.vision===2?'Normal':'Blurred'}</td>\r\n        <td className=\"text-muted\">{props.accident.age_cat===0?'Young':props.accident.age_cat===1?'Mid':'Older'}</td>\r\n        <td className=\"text-muted\">{getKmCat(props.accident.km_cat)}</td>\r\n        <td className=\"text-muted\">{props.accident.drowsiness?'1':'0'}</td>\r\n        <td className=\"text-muted\">{props.accident.enough_gap?'1':'0'}</td>\r\n        <td className=\"text-muted\">{props.accident.animal_crossing_problem?'1':'0'}</td>\r\n\r\n        <td>\r\n                <button className=\"btn btn-sm btn-secondary\" onClick={() => { props.discardEdit() }}>\r\n                  <FontAwesomeIcon icon={faBan} />\r\n                </button>&nbsp;\r\n                <button className=\"btn btn-sm btn-success\" onClick={() => {\r\n                  props.updateAccident(\r\n                    props.accident.id,\r\n                    props.edit_accidentDate,\r\n                    props.edit_accidentTime,\r\n                    props.edit_driverAge,\r\n                    props.edit_driverGender,\r\n                    props.edit_weather,\r\n                    props.edit_roadSurface,\r\n                    props.edit_vehicleType,\r\n                    props.edit_vehicleYOM,\r\n                    props.edit_licenseIssueDate,\r\n                    props.edit_drivingSide,\r\n                    props.edit_severity,\r\n                    props.edit_reason,\r\n                    props.edit_kmPost,\r\n                    props.edit_suburb,\r\n                    props.edit_operatedSpeed,\r\n                    props.edit_vehicle_condition,\r\n                    props.edit_status\r\n                  )}}>\r\n                  <FontAwesomeIcon icon={faSave} />\r\n                </button>\r\n\r\n        </td>\r\n        </tr>\r\n    )\r\n  }else{\r\n  //normal mode\r\n    return(\r\n      <tr>\r\n        <td>{getLocalDate(props.accident.datetime)}</td>\r\n        <td>{getLocalTime(props.accident.datetime)}</td>\r\n        <td>{props.accident.driverAge}</td>\r\n\r\n        <td>{props.accident.driverGender?'Female':'Male'}</td>\r\n        <td>{props.accident.weather?'Rain':'Clear'}</td>\r\n        <td>{props.accident.roadSurface?'Wet':'Dry'}</td>\r\n\r\n        <td>{props.accident.vehicleType===0?'Car':props.accident.vehicleType===1?'HV':'DP'}</td>\r\n        <td>{props.accident.vehicleYOM}</td>\r\n        <td>{getLocalDate(props.accident.licenseIssueDate)}</td>\r\n\r\n        <td>{props.accident.drivingSide?'Matara':'Colombo'}</td>\r\n\r\n        <td>{props.accident.severity===0?'Property':props.accident.severity===1?'Injury':'Fatality'}</td>\r\n\r\n        <td>{props.accident.reason===0?'AnimalCrossing':props.accident.reason===1?'VehicleIssue'\r\n        :props.accident.reason===2?'Speed':props.accident.reason===3?'Tailgaiting':props.accident.reason===4?'Sleep':\r\n        'Slipping'}</td>\r\n\r\n        <td>{getSuburbName(props.accident.suburb)}</td>\r\n        <td>{props.accident.kmPost}</td>\r\n\r\n\r\n        <td>{props.accident.operatedSpeed}</td>\r\n        <td>{props.accident.vehicle_condition?'Bad':'Good'}</td>\r\n        <td>{props.accident.status===0?'Reported':props.accident.status===1?'Dispatched':'Handled'}</td>\r\n\r\n        <td className=\"text-muted\">{props.accident.day_cat===0?'Weekday':props.accident.day_cat===1?'Weekend':'PubHoliday'}</td>\r\n        <td className=\"text-muted\">{props.accident.hour_cat===0?'Free':props.accident.hour_cat===1?'Rush':'Normal'}</td>\r\n        <td className=\"text-muted\">{props.accident.month_cat?'Off-peak':'Peak'}</td>\r\n        <td className=\"text-muted\">{props.accident.vision===0?'Poor':props.accident.vision===1?'Glare':props.accident.vision===2?'Normal':'Blurred'}</td>\r\n        <td className=\"text-muted\">{props.accident.age_cat===0?'Young':props.accident.age_cat===1?'Mid':'Older'}</td>\r\n        <td className=\"text-muted\">{getKmCat(props.accident.km_cat)}</td>\r\n        <td className=\"text-muted\">{props.accident.drowsiness?'1':'0'}</td>\r\n        <td className=\"text-muted\">{props.accident.enough_gap?'1':'0'}</td>\r\n        <td className=\"text-muted\">{props.accident.animal_crossing_problem?'1':'0'}</td>\r\n\r\n\r\n        <td>\r\n          <button className=\"btn btn-sm btn-info\" onClick={() => { props.editAccident(props.accident) }}>\r\n              <FontAwesomeIcon icon={faEdit} />\r\n          </button>\r\n          <button className=\"btn btn-sm btn-danger\" onClick={() => { props.deleteAccident(props.accident.id) }}>\r\n              <FontAwesomeIcon icon={faTrashAlt} />\r\n          </button>\r\n        </td>\r\n      </tr>\r\n    )}\r\n}\r\n\r\nexport default class AccidentList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.deleteAccident = this.deleteAccident.bind(this)\r\n    this.editAccident = this.editAccident.bind(this)\r\n    this.updateAccident = this.updateAccident.bind(this)\r\n    this.discardEdit = this.discardEdit.bind(this)\r\n\r\n    this.refresh = this.refresh.bind(this)\r\n\r\n\r\n        this.onChangeAccidentDate = this.onChangeAccidentDate.bind(this);\r\n        this.onChangeAccidentTime = this.onChangeAccidentTime.bind(this);\r\n        this.onChangeDriverAge = this.onChangeDriverAge.bind(this);\r\n        this.onChangeDriverGender = this.onChangeDriverGender.bind(this);\r\n        this.onChangeWeather = this.onChangeWeather.bind(this);\r\n        this.onChangeRoadSurface = this.onChangeRoadSurface.bind(this);\r\n        this.onChangeVehicleType = this.onChangeVehicleType.bind(this);\r\n        this.onChangeVehicleYOM = this.onChangeVehicleYOM.bind(this);\r\n        this.onChangeVehicleCondition = this.onChangeVehicleCondition.bind(this);\r\n        this.onChangeLicenseIssueDate = this.onChangeLicenseIssueDate.bind(this);\r\n        this.onChangeDrivingSide = this.onChangeDrivingSide.bind(this);\r\n        this.onChangeSeverity = this.onChangeSeverity.bind(this);\r\n        this.onChangeReason = this.onChangeReason.bind(this);\r\n        this.onChangeKmPost = this.onChangeKmPost.bind(this);\r\n        this.onChangeSuburb = this.onChangeSuburb.bind(this);\r\n        this.onChangeOperatedSpeed = this.onChangeOperatedSpeed.bind(this);\r\n        this.onChangeStatus = this.onChangeStatus.bind(this);\r\n\r\n    this.state = {accidentlist: [], loading: true};\r\n  }\r\n\r\n\r\n  async componentDidMount() {\r\n     await this.getList();\r\n  }\r\n\r\n  getList = async () => {\r\n    let res = await axios.get(\"http://localhost:5000/accident/list\");\r\n    this.setState({ accidentlist: res.data.data, updateFlag: false })\r\n    console.log(\"state_set:\")\r\n    console.log(res.data.data)\r\n  };\r\n\r\n  async componentDidUpdate(){\r\n    if(this.state.updateFlag===true){\r\n      await this.getList();\r\n    }\r\n    console.log(this.state);\r\n  }\r\n\r\n\r\n\r\n  async deleteAccident(id) {\r\n    await axios.delete('http://localhost:5000/accident/delete/', {data:{id:id,sessionToken:this.props.token}})\r\n      .then(response => {\r\n        console.log(response.data)\r\n      });\r\n\r\n    this.setState({\r\n       updateFlag: true\r\n    })\r\n    this.refresh();\r\n  }\r\n\r\n  async updateAccident(\r\n            id,\r\n            accidentDate,\r\n            accidentTime,\r\n            driverAge,\r\n            driverGender,\r\n            weather,\r\n            roadSurface,\r\n            vehicleType,\r\n            vehicleYOM,\r\n            licenseIssueDate,\r\n            drivingSide,\r\n            severity,\r\n            reason,\r\n            kmPost,\r\n            suburb,\r\n            operatedSpeed,\r\n            vehicle_condition,\r\n            status,\r\n            sessionToken\r\n  ) {\r\n    console.log(\"date format\");\r\n    const datetime = new Date(accidentDate.toString().replace(/(\\d\\d:\\d\\d)/,accidentTime).slice(0,-1))\r\n        console.log(accidentDate.toString())\r\n        console.log(accidentTime)\r\n    await axios.post('http://localhost:5000/accident/update/', {\r\n                    id: id,\r\n                    datetime: datetime,\r\n                    driverAge: driverAge,\r\n                    driverGender: driverGender,\r\n                    weather: weather,\r\n                    roadSurface: roadSurface,\r\n                    vehicleType: vehicleType,\r\n                    vehicleYOM: vehicleYOM,\r\n                    licenseIssueDate: licenseIssueDate,\r\n                    drivingSide: drivingSide,\r\n                    severity: severity,\r\n                    reason: reason,\r\n                    kmPost: kmPost,\r\n                    suburb: suburb,\r\n                    status: status,\r\n                    operatedSpeed: operatedSpeed,\r\n                    vehicle_condition: vehicle_condition,\r\n                    sessionToken:this.props.token\r\n    })\r\n      .then(response => {\r\n        console.log(response.data)\r\n      });\r\n    this.setState({\r\n       updateFlag: true,\r\n       edit_id:null,\r\n       edit_accidentDate: null,\r\n       edit_accidentTime: null,\r\n       edit_driverAge: null,\r\n       edit_driverGender: null,\r\n       edit_weather: null,\r\n       edit_roadSurface: null,\r\n       edit_vehicleType: null,\r\n       edit_vehicleYOM: null,\r\n       edit_licenseIssueDate: null,\r\n       edit_drivingSide: null,\r\n       edit_severity: null,\r\n       edit_reason: null,\r\n       edit_kmPost: null,\r\n       edit_suburb: null,\r\n       edit_status: null,\r\n       edit_operatedSpeed: null,\r\n       edit_vehicle_condition: null\r\n    })\r\n    this.refresh();\r\n  }\r\n\r\n  async editAccident(accident) {\r\n    await this.setState({\r\n       updateFlag: true,\r\n       edit_id:accident.id,\r\n       edit_accidentDate: accident.datetime,\r\n       edit_accidentTime:getLocalTime(accident.datetime),\r\n       edit_driverAge: accident.driverAge,\r\n       edit_driverGender: accident.driverGender,\r\n       edit_weather: accident.weather,\r\n       edit_roadSurface: accident.roadSurface,\r\n       edit_vehicleType: accident.vehicleType,\r\n       edit_vehicleYOM: accident.vehicleYOM,\r\n       edit_licenseIssueDate: accident.licenseIssueDate,\r\n       edit_drivingSide: accident.drivingSide,\r\n       edit_severity: accident.severity,\r\n       edit_reason: accident.reason,\r\n       edit_kmPost: accident.kmPost,\r\n       edit_suburb: accident.suburb,\r\n       edit_status: accident.status,\r\n       edit_operatedSpeed: accident.operatedSpeed,\r\n       edit_vehicle_condition: accident.vehicle_condition\r\n    })\r\n    console.log(\"edited state:\")\r\n    console.log(this.state)\r\n  }\r\n\r\n  discardEdit() {\r\n    this.setState({\r\n      edit_id:null,\r\n      edit_accidentDate: null,\r\n      edit_accidentTime: null,\r\n      edit_driverAge: null,\r\n      edit_driverGender: null,\r\n      edit_weather: null,\r\n      edit_roadSurface: null,\r\n      edit_vehicleType: null,\r\n      edit_vehicleYOM: null,\r\n      edit_licenseIssueDate: null,\r\n      edit_drivingSide: null,\r\n      edit_severity: null,\r\n      edit_reason: null,\r\n      edit_kmPost: null,\r\n      edit_suburb: null,\r\n      edit_status: null,\r\n      edit_operatedSpeed: null,\r\n      edit_vehicle_condition: null,\r\n      updateFlag: true\r\n    })\r\n  }\r\n\r\n  refresh() {\r\n    this.setState({\r\n       updateFlag: true\r\n    })\r\n  }\r\n\r\n  onChangeAccidentDate(e) {\r\n      this.setState({\r\n        edit_accidentDate: e.target.value\r\n      })\r\n    }\r\n\r\n    onChangeAccidentTime(e) {\r\n      this.setState({\r\n        edit_accidentTime: e.target.value\r\n      })\r\n    }\r\n\r\n    onChangeLicenseIssueDate(e) {\r\n        this.setState({\r\n          edit_licenseIssueDate: e.target.value\r\n        })\r\n      }\r\n\r\n  onChangeDriverAge(e) {\r\n    this.setState({\r\n      edit_driverAge: e.target.value\r\n    })\r\n  }\r\n  onChangeDriverGender(e) {\r\n    this.setState({\r\n      edit_driverGender: (e.target.value===\"male\"?false:true)\r\n    })\r\n  }\r\n\r\n  onChangeWeather(e) {\r\n    this.setState({\r\n      edit_weather: (e.target.value===\"clear\"?false:true)\r\n    })\r\n  }\r\n\r\n  onChangeRoadSurface(e) {\r\n    this.setState({\r\n      edit_roadSurface: (e.target.value===\"dry\"?false:true)\r\n    })\r\n  }\r\n\r\n  onChangeVehicleCondition(e) {\r\n    this.setState({\r\n      edit_vehicle_condition: (e.target.value===\"good\"?false:true)\r\n    })\r\n  }\r\n\r\n  onChangeVehicleType(e) {\r\n    this.setState({\r\n      edit_vehicleType: parseInt(e.target.value)\r\n    })\r\n  }\r\n  onChangeVehicleYOM(e) {\r\n    this.setState({\r\n      edit_vehicleYOM: e.target.value\r\n    })\r\n  }\r\n\r\n\r\n  onChangeDrivingSide(e) {\r\n    this.setState({\r\n      edit_drivingSide: (e.target.value===\"colombo\"?false:true)\r\n    })\r\n  }\r\n  onChangeSeverity(e) {\r\n    this.setState({\r\n      edit_severity: parseInt(e.target.value)\r\n    })\r\n  }\r\n  onChangeReason(e) {\r\n    this.setState({\r\n      edit_reason: parseInt(e.target.value)\r\n    })\r\n  }\r\n  onChangeKmPost(e) {\r\n    this.setState({\r\n      edit_kmPost: e.target.value\r\n    })\r\n  }\r\n  onChangeSuburb(e) {\r\n    this.setState({\r\n      edit_suburb: parseInt(e.target.value)\r\n    })\r\n    switch(parseInt(e.target.value)){\r\n      case 0:\r\n      this.setState({edit_kmPost:0})\r\n      break;\r\n      case 1:\r\n      this.setState({edit_kmPost:5.9})\r\n      break;\r\n      case 2:\r\n      this.setState({edit_kmPost:13.7})\r\n      break;\r\n      case 3:\r\n      this.setState({edit_kmPost:34.8})\r\n      break;\r\n      case 4:\r\n      this.setState({edit_kmPost:46})\r\n      break;\r\n      case 5:\r\n      this.setState({edit_kmPost:67.6})\r\n      break;\r\n      case 6:\r\n      this.setState({edit_kmPost:79.8})\r\n      break;\r\n      case 7:\r\n      this.setState({edit_kmPost:95.3})\r\n      break;\r\n      case 8:\r\n      this.setState({edit_kmPost:108})\r\n      break;\r\n      case 9:\r\n      this.setState({edit_kmPost:116.5})\r\n      break;\r\n      case 10:\r\n      this.setState({edit_kmPost:127})\r\n      break;\r\n      default:\r\n      break;\r\n    }\r\n  }\r\n  onChangeOperatedSpeed(e) {\r\n    this.setState({\r\n      edit_operatedSpeed: e.target.value,\r\n      res:''\r\n    })\r\n  }\r\n  onChangeStatus(e) {\r\n    this.setState({\r\n      edit_status: parseInt(e.target.value)\r\n    })\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  accidentList() {\r\n    return this.state.accidentlist.map(currentaccident => {\r\n      return <Accident\r\n       accident={currentaccident}\r\n       deleteAccident={this.deleteAccident}\r\n       editAccident={this.editAccident}\r\n       updateAccident={this.updateAccident}\r\n       discardEdit={this.discardEdit}\r\n\r\n\r\n        onChangeAccidentDate=   {this.onChangeAccidentDate}\r\n        onChangeAccidentTime =  {this.onChangeAccidentTime}\r\n        onChangeDriverAge =  {this.onChangeDriverAge}\r\n        onChangeDriverGender=   {this.onChangeDriverGender}\r\n        onChangeWeather=   {this.onChangeWeather}\r\n        onChangeRoadSurface=   {this.onChangeRoadSurface}\r\n        onChangeVehicleType=   {this.onChangeVehicleType}\r\n        onChangeVehicleYOM=   {this.onChangeVehicleYOM}\r\n        onChangeVehicleCondition=   {this.onChangeVehicleCondition}\r\n        onChangeLicenseIssueDate=   {this.onChangeLicenseIssueDate}\r\n        onChangeDrivingSide=   {this.onChangeDrivingSide}\r\n        onChangeSeverity=   {this.onChangeSeverity}\r\n        onChangeReason=   {this.onChangeReason}\r\n        onChangeKmPost=   {this.onChangeKmPost}\r\n        onChangeSuburb=   {this.onChangeSuburb}\r\n        onChangeOperatedSpeed=   {this.onChangeOperatedSpeed}\r\n        onChangeStatus=   {this.onChangeStatus}\r\n\r\n\r\n\r\n       key={currentaccident.id}\r\n       edit_id= {this.state.edit_id}\r\n       edit_accidentDate= {this.state.edit_accidentDate}\r\n       edit_accidentTime= {this.state.edit_accidentTime}\r\n       edit_driverAge= {this.state.edit_driverAge}\r\n       edit_driverGender= {this.state.edit_driverGender}\r\n       edit_weather= {this.state.edit_weather}\r\n       edit_roadSurface= {this.state.edit_roadSurface}\r\n       edit_vehicleType= {this.state.edit_vehicleType}\r\n       edit_vehicleYOM= {this.state.edit_vehicleYOM}\r\n       edit_licenseIssueDate= {this.state.edit_licenseIssueDate}\r\n       edit_drivingSide= {this.state.edit_drivingSide}\r\n       edit_severity= {this.state.edit_severity}\r\n       edit_reason= {this.state.edit_reason}\r\n       edit_kmPost= {this.state.edit_kmPost}\r\n       edit_suburb= {this.state.edit_suburb}\r\n       edit_status= {this.state.edit_status}\r\n       edit_operatedSpeed= {this.state.edit_operatedSpeed}\r\n       edit_vehicle_condition= {this.state.edit_vehicle_condition}\r\n       />;\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h3> <FontAwesomeIcon icon={faCarCrash}/> Accident List&nbsp;\r\n          <button className=\"btn btn-sm btn-light\" onClick={() => {this.refresh() }}><FontAwesomeIcon icon={faSyncAlt}/></button>\r\n        </h3>\r\n        <table className=\"table table-bordered table-hover\">\r\n          <thead className=\"thead-light\">\r\n            <tr>\r\n              <th >Accident Date</th>\r\n              <th>Accident Time</th>\r\n              <th>Driver Age</th>\r\n              <th>Gender</th>\r\n              <th>Weather</th>\r\n              <th>Road Surface</th>\r\n              <th>Vehicle Type</th>\r\n              <th>Vehicle YOM</th>\r\n              <th>License Issue Date</th>\r\n              <th>Driving Side</th>\r\n              <th>Severity</th>\r\n              <th>Reason</th>\r\n\r\n              <th>Suburb</th>\r\n              <th>KM Post</th>\r\n\r\n              <th>Operated Speed</th>\r\n              <th>Vehicle Condition</th>\r\n              <th>Status</th>\r\n\r\n              <th>Day_cat</th>\r\n              <th>Hour_cat</th>\r\n              <th>Month_cat</th>\r\n              <th>Vision</th>\r\n              <th>Age_cat</th>\r\n              <th>KM_cat</th>\r\n              <th>Drowsiness</th>\r\n              <th>Enough_gap</th>\r\n              <th>Animal_crossing</th>\r\n              <th>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            { this.accidentList() }\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","C:\\Users\\Kavinda\\Desktop\\level 2 software project\\raps_client\\src\\components\\eventsubmission.component.js",["174"],"import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport DatePicker from 'react-datepicker';\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\nexport default class EventSubmission extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n\r\n    this.onChangeEventDate = this.onChangeEventDate.bind(this);\r\n    this.onChangeEventTime = this.onChangeEventTime.bind(this);\r\n    this.onChangeType = this.onChangeType.bind(this);\r\n\r\n\r\n\r\n    this.onChangeDrivingSide = this.onChangeDrivingSide.bind(this);\r\n    this.onChangeSeverity = this.onChangeSeverity.bind(this);\r\n\r\n    this.onChangeKmPost = this.onChangeKmPost.bind(this);\r\n    this.onChangeSuburb = this.onChangeSuburb.bind(this);\r\n\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    const d= new Date();\r\n\r\n    this.state = {\r\n      eventDate:d,\r\n      eventTime:d.toString().match(/(\\d\\d:\\d\\d)/)[0],\r\n      type: 0,\r\n      drivingSide: false,\r\n      severity: 0,\r\n      kmPost: 0,\r\n      suburb: 0,\r\n      token:this.props.token,\r\n      res:''\r\n    }\r\n  }\r\n\r\n\r\n  onChangeEventDate(date) {\r\n      this.setState({\r\n        eventDate: date\r\n      })\r\n    }\r\n\r\n\r\n\r\n\r\n  onChangeEventTime(e) {\r\n    this.setState({\r\n      eventTime: e.target.value,\r\n      res:''\r\n    })\r\n  }\r\n\r\n\r\n  onChangeType(e) {\r\n    this.setState({\r\n      type: e.target.value,\r\n      res:''\r\n    })\r\n  }\r\n\r\n\r\n\r\n  onChangeDrivingSide(e) {\r\n    this.setState({\r\n      drivingSide: e.target.value,\r\n      res:''\r\n    })\r\n  }\r\n  onChangeSeverity(e) {\r\n    this.setState({\r\n      severity: e.target.value,\r\n      res:''\r\n    })\r\n  }\r\n\r\n  onChangeKmPost(e) {\r\n    this.setState({\r\n      kmPost: e.target.value,\r\n      res:''\r\n    })\r\n  }\r\n  onChangeSuburb(e) {\r\n    this.setState({\r\n      suburb: e.target.value,\r\n      res:''\r\n    })\r\n    switch(e.target.value){\r\n      case '0':\r\n      this.setState({kmPost:0})\r\n      break;\r\n      case '1':\r\n      this.setState({kmPost:5.9})\r\n      break;\r\n      case '2':\r\n      this.setState({kmPost:13.7})\r\n      break;\r\n      case '3':\r\n      this.setState({kmPost:34.8})\r\n      break;\r\n      case '4':\r\n      this.setState({kmPost:46})\r\n      break;\r\n      case '5':\r\n      this.setState({kmPost:67.6})\r\n      break;\r\n      case '6':\r\n      this.setState({kmPost:79.8})\r\n      break;\r\n      case '7':\r\n      this.setState({kmPost:95.3})\r\n      break;\r\n      case '8':\r\n      this.setState({kmPost:108})\r\n      break;\r\n      case '9':\r\n      this.setState({kmPost:116.5})\r\n      break;\r\n      case '10':\r\n      this.setState({kmPost:127})\r\n      break;\r\n    }\r\n  }\r\n\r\n\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    const datetime = new Date(this.state.eventDate.toString().replace(/(\\d\\d:\\d\\d:\\d\\d)/,this.state.eventTime))\r\n\r\n    const event = {\r\n      datetime:datetime,\r\n      type: this.state.type,\r\n      drivingSide: this.state.drivingSide,\r\n      severity: this.state.severity,\r\n      kmPost: this.state.kmPost,\r\n      suburb: this.state.suburb,\r\n      sessionToken: this.state.token,\r\n    }\r\n\r\n    console.log(event);\r\n\r\n    const d= new Date();\r\n\r\n    axios.post('http://localhost:5000/event/submit', event)\r\n      .then(res=>{\r\n        document.getElementById('event-report-from').reset();\r\n        this.setState({\r\n          res: res.data.message,\r\n          eventDate:d,\r\n          eventTime:d.toString().match(/(\\d\\d:\\d\\d)/)[0],\r\n          type: 0,\r\n          drivingSide: false,\r\n          severity: 0,\r\n          kmPost: 0,\r\n          suburb: 0\r\n        })\r\n      })\r\n\r\n  }\r\n\r\n\r\n  render() {\r\n      return (\r\n      <div className=\"acc\">\r\n\r\n\r\n      <form id=\"event-report-from\" onSubmit={this.onSubmit} >\r\n        <div className=\"header\"><h3>Event Report </h3></div>\r\n          <br/>\r\n        <div>\r\n\r\n        <div className=\"form-group row\">\r\n          <div className=\"col-sm-3\">\r\n            <label>Event Date: </label>\r\n          </div>\r\n         <div className=\"col-sm-3\">\r\n            <div>\r\n              <DatePicker className=\"form-control\"\r\n              selected={this.state.eventDate}\r\n              onChange={this.onChangeEventDate}\r\n              />\r\n            </div>\r\n          </div>\r\n          </div>\r\n\r\n          <div className=\"form-group row\">\r\n            <div className=\"col-sm-3\"><label>Event Time: </label>\r\n            </div>\r\n            <div className=\"col-sm-3\">\r\n              <input  type=\"time\"\r\n              className=\"form-control\"\r\n              value={this.state.eventTime}\r\n              onChange={this.onChangeEventTime}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n\r\n          <div className=\"form-group row\">\r\n          <div className=\"col-sm-3\"><label>Type </label></div>\r\n          <div className=\"col-sm-3\">\r\n              <select className=\"form-control\" onChange={this.onChangeType}>\r\n                  <option value=\"0\">Fallen Tree</option>\r\n                  <option value=\"1\">Landslide</option>\r\n                  <option value=\"2\">Flooding</option>\r\n                  <option value=\"3\">Other</option>\r\n              </select>\r\n              </div>\r\n          </div>\r\n\r\n          <div className=\"form-group row\">\r\n          <div className=\"col-sm-3\"><label>Side </label></div>\r\n          <div className=\"col-sm-3\"><select className=\"form-control\" onChange={this.onChangeDrivingSide}>\r\n              <option value=\"false\">Colombo to Matara</option>\r\n              <option value=\"true\">Matara to Colombo</option>\r\n              </select>\r\n          </div>\r\n          </div>\r\n          <div className=\"form-group row\">\r\n          <div className=\"col-sm-3\"><label>Severity </label></div>\r\n          <div className=\"col-sm-3\"><select className=\"form-control\" onChange={this.onChangeSeverity}>\r\n              <option value=\"0\">Minor</option>\r\n              <option value=\"1 \">Intermediate</option>\r\n              <option value=\"2\">Major</option>\r\n              </select></div>\r\n          </div>\r\n          <div className=\"form-group row\">\r\n          <div className=\"col-sm-3\"><label>Suburb </label></div>\r\n          <div className=\"col-sm-3\">\r\n          <select className=\"form-control\" onChange={this.onChangeSuburb}>\r\n              <option value=\"0\">Kottawa</option>\r\n              <option value=\"1\">Kahathuduwa</option>\r\n              <option value=\"2\">Gelanigama</option>\r\n              <option value=\"3\">Dodangoda</option>\r\n              <option value=\"4\">Welipanna</option>\r\n              <option value=\"5\">Kurundugahahetekma</option>\r\n              <option value=\"6\">Baddegama</option>\r\n              <option value=\"7\">Pinnaduwa</option>\r\n              <option value=\"8\">Imaduwa</option>\r\n              <option value=\"9\">Kokmaduwa</option>\r\n              <option value=\"10\">Godagama</option>\r\n              </select></div>\r\n          </div>\r\n\r\n          <div className=\"form-group row\">\r\n          <div className=\"col-sm-3\"><label>KM Post </label></div>\r\n          <div className=\"col-sm-3\"><input  type=\"number\" step='0.1'\r\n              className=\"form-control\"\r\n              value={this.state.kmPost}\r\n              onChange={this.onChangeKmPost}\r\n              min='0'\r\n              max='127'\r\n              /></div>\r\n          </div>\r\n\r\n\r\n\r\n          <div className=\"form\">\r\n            <br/>\r\n          <input type=\"submit\" value=\"Submit Report\" onSubmit={this.onSubmit} className=\"btn btn-primary\" /> {this.state.res}\r\n          <div>\r\n\r\n          </div>\r\n\r\n        </div>\r\n\r\n      </div>\r\n\r\n\r\n      </form>\r\n\r\n\r\n      </div>\r\n      )\r\n  }\r\n\r\n}\r\n","C:\\Users\\Kavinda\\Desktop\\level 2 software project\\raps_client\\src\\components\\eventlist.component.js",[],"C:\\Users\\Kavinda\\Desktop\\level 2 software project\\raps_client\\src\\components\\validateincident.component.js",[],"C:\\Users\\Kavinda\\Desktop\\level 2 software project\\raps_client\\src\\components\\holiday.component.js",["175","176"],"import React, { Component } from 'react';\r\nimport axios from 'axios';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport {faCalendarAlt, faCalendarPlus, faEdit, faBan, faTrashAlt, faSave, faSyncAlt  } from '@fortawesome/free-solid-svg-icons'\r\nimport { getLocalDate } from \"../utils/displayformat\";\r\nimport DatePicker from 'react-datepicker';\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\nconst Holiday = props => {\r\n  if(props.holiday.id === props.edit_id){\r\n    //edit mode\r\n      return(\r\n      <tr className=\"table-secondary\">\r\n        <td>\r\n        <input\r\n              type=\"text\"\r\n              required\r\n              className=\"form-control\"\r\n              value={props.edit_name}\r\n              onChange={props.onChangeEditName}\r\n              minlength=\"4\"\r\n            >\r\n            </input>\r\n        </td>\r\n        <td>\r\n              {getLocalDate(props.edit_date)}\r\n              <input type=\"date\"\r\n              value={props.edit_date}\r\n              onChange={props.onChangeEditDate}/>\r\n        </td>\r\n        <td>\r\n                <button className=\"btn btn-sm btn-secondary\" onClick={() => { props.discardEdit() }}>\r\n                  <FontAwesomeIcon icon={faBan} />\r\n                </button>&nbsp;\r\n                <button className=\"btn btn-sm btn-success\" onClick={() => { props.updateHoliday(props.holiday.id,props.edit_name,props.edit_date) }}>\r\n                  <FontAwesomeIcon icon={faSave} />\r\n                </button>\r\n\r\n        </td>\r\n        </tr>\r\n    )\r\n  }else{\r\n  //normal mode\r\n    return(\r\n      <tr>\r\n        <td>{props.holiday.name}</td>\r\n        <td>{getLocalDate(props.holiday.date)}</td>\r\n        <td>\r\n          <button className=\"btn btn-sm btn-info\" onClick={() => { props.editHoliday(props.holiday) }}>\r\n              <FontAwesomeIcon icon={faEdit} />\r\n          </button>&nbsp;\r\n          <button className=\"btn btn-sm btn-danger\" onClick={() => { props.deleteHoliday(props.holiday.id) }}>\r\n              <FontAwesomeIcon icon={faTrashAlt} />\r\n          </button>\r\n        </td>\r\n      </tr>\r\n    )}\r\n}\r\n\r\nexport default class HolidayList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.deleteHoliday = this.deleteHoliday.bind(this)\r\n    this.editHoliday = this.editHoliday.bind(this)\r\n    this.updateHoliday = this.updateHoliday.bind(this)\r\n    this.discardEdit = this.discardEdit.bind(this)\r\n\r\n    this.onChangeEditName = this.onChangeEditName.bind(this);\r\n    this.onChangeEditDate = this.onChangeEditDate.bind(this);\r\n    this.refresh = this.refresh.bind(this)\r\n\r\n    this.onChangeHolidayDate = this.onChangeHolidayDate.bind(this);\r\n    this.onChangeName = this.onChangeName.bind(this);\r\n\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    const d= new Date();\r\n\r\n    this.state = {holidaylist: [],\r\n    loading: true,\r\n    edit_id: null,\r\n    holidayDate:d,\r\n    name: '',\r\n    token:this.props.token,\r\n    res:''};\r\n  }\r\n\r\n\r\n  async componentDidMount() {\r\n     await this.getList();\r\n  }\r\n\r\n  getList = async () => {\r\n    let res = await axios.get(\"http://localhost:5000/holiday/list\");\r\n    this.setState({ holidaylist: res.data.data, updateFlag: false })\r\n    console.log(\"state_set:\")\r\n    console.log(res.data.data)\r\n  };\r\n\r\n  async componentDidUpdate(){\r\n    if(this.state.updateFlag===true){\r\n      await this.getList();\r\n    }\r\n    console.log(this.state);\r\n  }\r\n\r\n\r\n\r\n  async deleteHoliday(id) {\r\n    await axios.delete('http://localhost:5000/holiday/delete/', {data:{id:id,sessionToken:this.props.token}})\r\n      .then(response => {\r\n        console.log(response.data)\r\n      });\r\n\r\n    this.setState({\r\n       updateFlag: true\r\n    })\r\n    this.refresh();\r\n  }\r\n\r\n  async updateHoliday(id,name,date) {\r\n    await axios.post('http://localhost:5000/holiday/update/', {id:id,name:name,date:date,name:name,sessionToken:this.props.token})\r\n      .then(response => {\r\n        console.log(response.data)\r\n      });\r\n    this.setState({\r\n       updateFlag: true,\r\n       edit_id: null,\r\n       edit_name: null,\r\n       edit_date: null\r\n    })\r\n    this.refresh();\r\n  }\r\n\r\n  editHoliday(holiday) {\r\n    this.setState({\r\n       edit_id: holiday.id,\r\n       edit_name: holiday.name,\r\n       edit_date: holiday.date,\r\n       updateFlag: true\r\n    })\r\n  }\r\n\r\n  discardEdit() {\r\n    this.setState({\r\n       edit_id: null,\r\n       edit_name: null,\r\n       edit_date: null,\r\n       updateFlag: true\r\n    })\r\n  }\r\n\r\n  refresh() {\r\n    this.setState({\r\n       updateFlag: true\r\n    })\r\n  }\r\n\r\n  onChangeEditName(e) {\r\n    this.setState({\r\n      edit_name: e.target.value\r\n    });\r\n  }\r\n\r\n  onChangeEditDate(e) {\r\n    this.setState({\r\n      edit_date: e.target.value\r\n    });\r\n  }\r\n\r\n  onChangeHolidayDate(date) {\r\n      this.setState({\r\n        holidayDate: date\r\n      })\r\n    }\r\n\r\n\r\n  onChangeName(e) {\r\n    this.setState({\r\n      name: e.target.value,\r\n      res:''\r\n    })\r\n  }\r\n\r\n  async onSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    const holiday = {\r\n      date:this.state.holidayDate.toString().replace(/(\\d\\d:\\d\\d:\\d\\d)/,'00:00:00'),\r\n      name: this.state.name,\r\n      sessionToken: this.state.token,\r\n    }\r\n\r\n    const d= new Date();\r\n    await axios.post('http://localhost:5000/holiday/add', holiday)\r\n      .then(res=>{\r\n        document.getElementById('holiday-report-form').reset();\r\n        this.setState({\r\n          res: res.data.message,\r\n          holidayDate:d,\r\n          name: ''\r\n        })\r\n      })\r\n      this.refresh();\r\n  }\r\n\r\n\r\n  holidayList() {\r\n    return this.state.holidaylist.map(currentholiday => {\r\n      return <Holiday\r\n       holiday={currentholiday}\r\n       deleteHoliday={this.deleteHoliday}\r\n       editHoliday={this.editHoliday}\r\n       updateHoliday={this.updateHoliday}\r\n       discardEdit={this.discardEdit}\r\n       onChangeEditName={this.onChangeEditName}\r\n       onChangeEditDate={this.onChangeEditDate}\r\n       key={currentholiday.id}\r\n       edit_id={this.state.edit_id}\r\n       edit_name={this.state.edit_name}\r\n       edit_date={this.state.edit_date}\r\n       />;\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container w-100\">\r\n      <h3> <FontAwesomeIcon icon={faCalendarAlt}/> Public Holiday</h3>\r\n      <br/>\r\n        <div className=\"row\">\r\n            <div className=\"col-xs-12 col-md-6\">\r\n             <div className=\"add-holiday\">\r\n                <form id=\"holiday-report-form\" onSubmit={this.onSubmit} >\r\n                  <div className=\"header\"><h5>Add Public Holiday </h5></div>\r\n                    <br/>\r\n                  <div>\r\n\r\n                  <div className=\"form-group\">\r\n                    <div className=\"col-sm-12\">\r\n                      <label>Holiday Date: </label>\r\n                    </div>\r\n                   <div className=\"col-sm-12\">\r\n                      <div>\r\n                        <DatePicker className=\"form-control\"\r\n                        selected={this.state.holidayDate}\r\n                        onChange={this.onChangeHolidayDate}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                    <div className=\"col-sm-12\"><label>Name</label></div>\r\n                    <div className=\"col-sm-12\"><input  type=\"text\"\r\n                        className=\"form-control input-sm\"\r\n                        value={this.state.name}\r\n                        onChange={this.onChangeName}\r\n                        /></div>\r\n                    </div>\r\n\r\n\r\n\r\n                    <div className=\"form\">\r\n                      <br/>\r\n                    <input type=\"submit\" value=\"Add holiday\" onSubmit={this.onSubmit} className=\"btn btn-primary\" /> {this.state.res}\r\n                    <div>\r\n                    <br/>\r\n\r\n                    </div>\r\n\r\n                  </div>\r\n\r\n                </div>\r\n\r\n\r\n                </form></div>\r\n\r\n            </div>\r\n\r\n            <div className=\"col-xs-12 col-md-6\">\r\n              <table className=\"table table-bordered\">\r\n                <thead className=\"thead-light\">\r\n                <tr>\r\n                <th colspan=\"3\">\r\n                Holiday List&nbsp;\r\n                  <button className=\"btn btn-sm btn-light\" onClick={() => {this.refresh() }}><FontAwesomeIcon icon={faSyncAlt}/></button>\r\n\r\n                </th>\r\n                </tr>\r\n                  <tr>\r\n                    <th>Name</th>\r\n                    <th>Date</th>\r\n                    <th>Actions</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  { this.holidayList() }\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","C:\\Users\\Kavinda\\Desktop\\level 2 software project\\raps_client\\src\\components\\policelist.component.js",[],"C:\\Users\\Kavinda\\Desktop\\level 2 software project\\raps_client\\src\\utils\\displayformat.js",[],{"ruleId":"177","replacedBy":"178"},{"ruleId":"179","replacedBy":"180"},{"ruleId":"181","severity":1,"message":"182","line":2,"column":16,"nodeType":"183","messageId":"184","endLine":2,"endColumn":26},{"ruleId":"185","severity":1,"message":"186","line":216,"column":15,"nodeType":"187","endLine":216,"endColumn":79},{"ruleId":"185","severity":1,"message":"188","line":131,"column":15,"nodeType":"187","endLine":131,"endColumn":99},{"ruleId":"185","severity":1,"message":"188","line":138,"column":15,"nodeType":"187","endLine":138,"endColumn":94},{"ruleId":"181","severity":1,"message":"189","line":8,"column":8,"nodeType":"183","messageId":"184","endLine":8,"endColumn":18},{"ruleId":"190","severity":1,"message":"191","line":91,"column":5,"nodeType":"192","messageId":"193","endLine":125,"endColumn":6},{"ruleId":"181","severity":1,"message":"194","line":5,"column":24,"nodeType":"183","messageId":"184","endLine":5,"endColumn":38},{"ruleId":"195","severity":1,"message":"196","line":124,"column":90,"nodeType":"197","messageId":"198","endLine":124,"endColumn":94},{"ruleId":"177","replacedBy":"199"},{"ruleId":"179","replacedBy":"200"},{"ruleId":"181","severity":1,"message":"182","line":2,"column":16,"nodeType":"183","messageId":"184","endLine":2,"endColumn":26},{"ruleId":"185","severity":1,"message":"186","line":216,"column":15,"nodeType":"187","endLine":216,"endColumn":79},{"ruleId":"181","severity":1,"message":"201","line":4,"column":8,"nodeType":"183","messageId":"184","endLine":4,"endColumn":12},{"ruleId":"181","severity":1,"message":"202","line":6,"column":10,"nodeType":"183","messageId":"184","endLine":6,"endColumn":19},{"ruleId":"203","severity":1,"message":"204","line":107,"column":23,"nodeType":"187","endLine":107,"endColumn":70},{"ruleId":"185","severity":1,"message":"188","line":131,"column":15,"nodeType":"187","endLine":131,"endColumn":99},{"ruleId":"185","severity":1,"message":"188","line":138,"column":15,"nodeType":"187","endLine":138,"endColumn":94},{"ruleId":"181","severity":1,"message":"189","line":8,"column":8,"nodeType":"183","messageId":"184","endLine":8,"endColumn":18},{"ruleId":"190","severity":1,"message":"191","line":91,"column":5,"nodeType":"192","messageId":"193","endLine":125,"endColumn":6},{"ruleId":"181","severity":1,"message":"194","line":5,"column":24,"nodeType":"183","messageId":"184","endLine":5,"endColumn":38},{"ruleId":"195","severity":1,"message":"196","line":124,"column":90,"nodeType":"197","messageId":"198","endLine":124,"endColumn":94},"no-native-reassign",["205"],"no-negated-in-lhs",["206"],"no-unused-vars","'useHistory' is defined but never used.","Identifier","unusedVar","jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","'DatePicker' is defined but never used.","default-case","Expected a default case.","SwitchStatement","missingDefaultCase","'faCalendarPlus' is defined but never used.","no-dupe-keys","Duplicate key 'name'.","ObjectExpression","unexpected",["205"],["206"],"'logo' is defined but never used.","'Container' is defined but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","no-global-assign","no-unsafe-negation"]